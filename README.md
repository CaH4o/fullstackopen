# Full Stack | University of Helsinki

### Discription

This repositoroy for assignements of the course Full Stack Web Development, Open Uni: Full Stack Web Development.

Parts:

- Parts 0-5 (core course) - Full Stack Web Development (5 cr, CSM141081)
- Part 6 - Full Stack Web Development, extension 1 (1 cr, CSM141082)
- ~~Part 7 - Full Stack Web Development, extension 2 (1 cr, CSM141083)~~
- ~~Part 8 - Full Stack Web Development: GraphQL (1 cr, CSM14113)~~
- ~~Part 9 - Full Stack Web Development: TypeScript (1 cr, CSM14110)~~
- ~~Part 10 - Full Stack Web Development: React Native (2 cr, CSM14111)~~
- ~~Part 11 - Full Stack Web Development: Continuous Integration / Continuous Delivery (1 cr, CSM14112)~~
- ~~Part 12 - Full Stack Web Development: Containers (1 cr, CSM141084)~~
- ~~Part 13 - Full Stack Web Development: Relational databases (1 cr, CSM14114)~~

### Links:

About course: https://www.helsinki.fi/en/admissions-and-education/open-university/multidisciplinary-themed-modules/full-stack

Platform: https://fullstackopen.com/en/

[Full Stack -web development project 5, 7 or 10 credits](https://github.com/fullstack-hy2020/misc/blob/master/project.md)

---

## Part 0: [Fundamentals of Web apps](https://fullstackopen.com/en/part0)

### Sub-part A: [General info](https://fullstackopen.com/en/part0/general_info)

<details>
<summary>Links:</summary>
<li><a href="https://en.wikipedia.org/wiki/Mastery_learning" title="Mastery Learning">Mastery learning</a></li>
<li><a href="https://studies.cs.helsinki.fi/stats/courses/fullstackopen" title="Submission system">Submission system</a></li>
<li><a href="https://study.cs.helsinki.fi/discord/join/fullstack" title="Discord">Course channel in Telegram</a></li>
<li><a href="https://t.me/fullstackcourse" title="Telegram">Course channel in Telegram</a></li>
<li><a href="https://fullstackopen.com/en/part0/general_info#parts-and-completion" title="Parts and completion">Parts and completion</a></li>
<li><a href="https://www.google.com/chrome/" title="Chrome browser">Using the Chrome browser</a></li>
<li><a href="https://www.mozilla.org/en-US/firefox/developer/" title="Developer Edition of Firefox">alternative Chrome is the Developer Edition of Firefox</a></li>
<li><a href="https://product.hubspot.com/blog/git-and-github-tutorial-for-beginners" title="Git and GitHub tutorial for beginners">Git must be installed and you should know how to use it. Git and GitHub tutorial for beginners</a></li>
<li><a href="https://code.visualstudio.com/" title="Visual Studio Code">Install a sensible text editor that supports web development. Visual Studio Code</a></li>
<li><a href="https://nodejs.org/en" title="Node.js">Node.js (version 18.13.0)</a></li>
<li><a href="https://nodejs.org/en/download/package-manager" title="Node.js installation instructions">Node.js installation instructions</a></li>
<li><a href="https://docs.npmjs.com/getting-started" title="Node.js: npm">Node package manager npm</a></li>
<li><a href="https://www.npmjs.com/package/npx" title="Node.js: npx">Node.js, command npx</a></li>
<li><a href="https://github.com/fullstack-hy2020/fullstack-hy2020.github.io" title="Materials on GitHub">Course material in the repository on GitHub</a></li>
<li><a href="https://github.com/fullstack-hy2020/fullstack-hy2020.github.io/blob/source/src/content/0/en/part0.md" title="Materials on GitHub Part0">Course material in the repository on GitHub Part 0</a></li>
</details>

<details>
<summary>Commands</summary>

> npm install -g npx

</details>

### Sub-part B: [Fundamentals of Web apps](https://fullstackopen.com/en/part0/fundamentals_of_web_apps)

<details>
<summary>Links:</summary>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP" title="HTTP protocol">The server and the web browser communicate with each other using the HTTP protocol</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET" title="GET request method">GET request method</a></li>
<li><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" title="Status code">Status code</a></li>
<li><a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields" title="Request and the server response headers">Request and the server response headers</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type" title="Content-Type of a header">Content-Type of a header</a></li>
<li><a href="https://en.wikipedia.org/wiki/HTML" title="HyperText Markup Language or HTML">HyperText Markup Language or HTML</a></li>
<li><a href="https://fullstackopen.com/en/part0/fundamentals_of_web_apps#exercises-0-1-0-6" title="Sequence diagram">Sequence diagram</a></li>
<li><a href="https://spring.io/projects/spring-framework" title="Java Spring">A server can be created using Java Spring</a></li>
<li><a href="https://flask.palletsprojects.com/en/2.2.x/" title="Python Flask">A server can be created using Python Flask</a></li>
<li><a href="https://rubyonrails.org/" title="Ruby on Rails">A server can be created using Ruby on Rails</a></li>
<li><a href="https://expressjs.com/" title="Express library with Node.js">A server can be created using Express library with Node.js</a></li>
<li><a href="https://en.wikipedia.org/wiki/JSON" title="JSON">JSON</a></li>
<li><a href="https://chrome.google.com/webstore/detail/jsonvue/chklaanhfefbnpoihckbnefhakgolnmc" title="JSONVue on Chrome">JSONVue on Chrome</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState" title="XMLHttpReques, readyState">XMLHttpReques, readyState</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" title="Callback function">Callback function</a></li>
<li><a href="https://en.wikipedia.org/wiki/Document_Object_Model" title="Document Object Model, or DOM">Document Object Model, or DOM</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" title="CSS">CSS</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Class_selectors" title="Class selectors">Class selectors</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class" title="Class attributes">Class attributes</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST" title="POST request method">POST request method</a></li>
<li><a href="https://en.wikipedia.org/wiki/URL_redirection" title="URL redirection">URL redirection</a></li>
<li><a href="Asynchronous JavaScript and XML" title="AJAX (Asynchronous JavaScript and XML)">AJAX (Asynchronous JavaScript and XML)</a></li>
<li><a href="SPA" title="Single-page application (SPA)">Single-page application (SPA)</a></li>
<li><a href="https://www.freecodecamp.org/news/is-vanilla-javascript-worth-learning-absolutely-c2c67140ac34/" title="Vanilla JavaDcript">Vanilla JavaDcript</a></li>
<li><a href="https://jquery.com/" title="jQuery">jQuery</a></li>
<li><a href="https://backbonejs.org/" title="BackboneJS">BackboneJS</a></li>
<li><a href="https://angularjs.org/" title="AngularJS">AngularJS</a></li>
<li><a href="https://react.dev/" title="React library">React library</a></li>
<li><a href="https://github.com/reduxjs/redux" title="Redux library">Redux library</a></li>
<li><a href="https://vuejs.org/" title="VueJS">VueJS</a></li>
<li><a href="https://en.wikipedia.org/wiki/Frontend_and_backend" title="Frontend and backend">Frontend and backend</a></li>
<li><a href="https://nodejs.org/en" title="Node.js">Node.js</a></li>
</details>

<details>
<summary>Ð¡ommands and fragments</summary>

Open Developer Console in Chrome

> windows: fn-F12
> macOS: option-cmd-i

To refresh a webpage

> windows: fn-F5
> macOS: command-R

HTML index

```html
<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <div class="container"></div>
  </body>
</html>
```

output on the console

> console.log("object")

http request

```javascript
var xhttp = new XMLHttpRequest()

xhttp.onreadystatechange = function () {
  // code that takes care of the server response
}

xhttp.open('GET', '/data.json', true)
xhttp.send()
```

teg manipulation

```javascript
var ul = document.createElement('ul')
ul.setAttribute('class', 'notes')
var li = document.createElement('li')
li.appendChild(document.createTextNode('some text'))
ul.appendChild(li)
document.getElementById('root').appendChild(ul)

list = document.getElementsByTagName('ul')[0]
```

JSON parsing

> JSON.parse()

Array methodes

> .forEach()
> .push()

</details>

### Exercises:

#### 0.1: HTML

Review the basics of HTML by reading this tutorial from Mozilla: [HTML tutorial](https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics).
This exercise is not submitted to GitHub, it's enough to just read the tutorial

#### 0.2: CSS

Review the basics of CSS by reading this tutorial from Mozilla: [CSS tutorial](https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/CSS_basics).
This exercise is not submitted to GitHub, it's enough to just read the tutorial

#### 0.3: HTML forms

Learn about the basics of HTML forms by reading Mozilla's tutorial [Your first form](https://developer.mozilla.org/en-US/docs/Learn/Forms/Your_first_form).
This exercise is not submitted to GitHub, it's enough to just read the tutorial

#### 0.4: New note diagram

https://github.com/CaH4o/fullstackopen/issues/1
Create a similar diagram depicting the situation where the user creates a new note on the page https://studies.cs.helsinki.fi/exampleapp/notes by writing something into the text field and clicking the submit button.

If necessary, show operations on the browser or on the server as comments on the diagram.

[Creating Mermaid diagrams](https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/creating-diagrams)
[Examples](https://github.com/mermaid-js/mermaid#sequence-diagram-docs---live-editor)

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/issues/1)

#### 0.5: Single page app diagram

Create a diagram depicting the situation where the user goes to the single-page app version of the notes app at https://studies.cs.helsinki.fi/exampleapp/spa.

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/issues/2)

#### 0.6: New note in Single page app diagram

Create a diagram depicting the situation where the user creates a new note using the single-page version of the app.

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/issues/3)

---

## Part 1: [Introduction to React](https://fullstackopen.com/en/part1)

### Sub-part A: [Introduction to React](https://fullstackopen.com/en/part1/introduction_to_react)

<details>
<summary>Links:</summary>

<li><a href="https://react.dev/" title="React">React</a></li>
<li><a href="https://github.com/facebook/create-react-app" title="create-react-app">create-react-app</a></li>
<li><a href="https://vitejs.dev/" title="Vite">Vite</a></li>
<li><a href="https://react.dev/learn/your-first-component" title="React: component">React: component</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" title="React: Arrow function">React: Arrow function</a></li>
<li><a href="http://es6-features.org/#Constants" title="ECMAScript 6">ECMAScript 6</a></li>
<li><a href="https://react.dev/learn/writing-markup-with-jsx" title="Writing Markup with JSX">Writing Markup with JSX</a></li>
<li><a href="https://babeljs.io/" title="Babel">Babel</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/XML/XML_introduction" title="XML">XML</a></li>
<li><a href="https://react.dev/learn/passing-props-to-a-component" title="React: props">React: props</a></li>
<li><a href="https://react.dev/reference/react/Fragment" title="React: fragments">React: fragments</a></li>

</details>

### Sub-part B: [JavaScript](https://fullstackopen.com/en/part1/java_script)

<details>
<summary>Links:</summary>

<li><a href="https://en.wikipedia.org/wiki/ECMAScript" title="ECMAScript">ECMAScript</a></li>
<li><a href="https://jsbin.com/?js,console" title="JS Bin">JS Bin</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let" title="JavaScript: let">JavaScript: let</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const" title="JavaScript: const">JavaScript: const</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var" title="JavaScript: var">JavaScript: var</a></li>
<li><a href="https://medium.com/podiihq/javascript-variables-should-you-use-let-var-or-const-394f7645c88f" title="Javascript variables: should you use let, var or const?">Javascript variables: should you use let, var or const?</a></li>
<li><a href="https://www.jstips.co/en/javascript/keyword-var-vs-let/" title="Variable Hoisting">Variable Hoisting</a></li>
<li><a href="https://youtu.be/sjyJBL5fkp8" title="var: let and const">var: let and const</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" title="JavaScript: Array">JavaScript: Array</a></li>
<li><a href="https://en.wikipedia.org/wiki/Immutable_object" title="Immutable">Immutable</a></li>
<li><a href="" title="JavaScript: Array.forEach()">JavaScript: Array.forEach()</a></li>
<li><a href="" title="JavaScript: Array.push()">JavaScript: Array.push()</a></li>
<li><a href="" title="JavaScript: Array.concat()">JavaScript: Array.concat()</a></li>
<li><a href="" title="JavaScript: Array.map()">JavaScript: Array.map()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" title="JavaScript: Destructuring assignment">JavaScript: Destructuring assignment</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#object_literals" title="object literals">object literals</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function" title="JavaScript: function declaration">JavaScript: function declaration</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" title="JavaScript: function expression">JavaScript: function expression</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" title="JavaScript: this">JavaScript: this</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Global_object" title="JavaScript: Global object">JavaScript: Global object</a></li>
<li><a href="" title="JavaScript: setTimeout()">JavaScript: setTimeout()</a></li>
<li><a href="" title="JavaScript: bind()">JavaScript: bind()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes" title="JavaScript: Classes">JavaScript: Classes</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures" title="JavaScript: data types and data structures">JavaScript: data types and data structures</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" title="Mozilla's JavaScript Guide">Mozilla's JavaScript Guide</a></li>
<li><a href="JS" title="Mozilla's JavaScript (JS) tutorial">Mozilla's JavaScript (JS) tutorial</a></li>
<li><a href="https://github.com/getify/You-Dont-Know-JS" title="Free book series 'You-Dont-Know-JS'">Free book series "You-Dont-Know-JS"</a></li>
<li><a href="https://javascript.info/" title="The Modern JavaScript Tutorial">The Modern JavaScript Tutorial</a></li>
<li><a href="https://eloquentjavascript.net/" title="The free and highly engaging book Eloquent 'JavaScript'">The free and highly engaging book Eloquent "JavaScript"</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLlasXeu85E9cQ32gLCvAvr9vNaUccPVNP" title="Namaste JavaScript - free JavaScript video tutorial">Namaste JavaScript - free JavaScript video tutorial</a></li>
<li><a href="https://egghead.io/" title="Plenty of quality screencasts on JavaScript, React, and other interesting topics">Plenty of quality screencasts on JavaScript, React, and other interesting topics</a></li>

</details>

### Sub-part C: [Component state, event handlers](https://fullstackopen.com/en/part1/component_state_event_handlers)

<details>
<summary>Links:</summary>

<li><a href="" title="JavaScript: setInterval()">JavaScript: setInterval()</a></li>
<li><a href="https://react.dev/learn/state-a-components-memory" title="React: state hook">React: state hook</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button" title="HTML: button">HTML: button</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent" title="Mouse Event">Mouse Event</a></li>
<li><a href="https://react.dev/learn/responding-to-events" title="React: Responding to Events">React: Responding to Events</a></li>
<li><a href="https://react.dev/learn/sharing-state-between-components" title="React: Sharing State Between Components">React: Sharing State Between Components</a></li>
<li><a href="https://react.dev/learn/tutorial-tic-tac-toe" title="React: Tic-Tac-Toe tutorial">React: Tic-Tac-Toe tutorial</a></li>
<li><a href="" title="React: useState()">React: useState()</a></li>

</details>

### Sub-part D: [A more complex state, debugging React apps](https://fullstackopen.com/en/part1/a_more_complex_state_debugging_react_apps)

<details>
<summary>Links:</summary>

<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" title="JavaScript: object spread">JavaScript: object spread</a></li>
<li><a href="https://react.dev/learn/choosing-the-state-structure" title="React: State structure">React: State structure</a></li>
<li><a href="" title="JavaScript: Array .join()">JavaScript: Array .join()</a></li>
<li><a href="https://react.dev/learn/queueing-a-series-of-state-updates" title="React: state update asynchronously">React: state update asynchronously</a></li>
<li><a href="https://react.dev/learn/conditional-rendering" title="React: conditional rendering">React: conditional rendering</a></li>
<li><a href="https://react.dev/learn/state-a-components-memory" title="React: State: A Component's Memory">React: State: A Component's Memory</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger" title="debugger">debugger</a></li>
<li><a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" title="React Developer Tools: Chrome extension">React Developer Tools: Chrome extension</a></li>
<li><a href="https://react.dev/learn" title="React documentation">React documentation</a></li>
<li><a href="https://egghead.io/" title="React course on Egghead.io">React course on Egghead.io</a></li>
<li><a href="https://egghead.io/courses/start-learning-react" title="React course on Start learning React">React course on Start learning React</a></li>
<li><a href="https://egghead.io/courses/the-beginner-s-guide-to-react" title="Beginner's Guide to React">Beginner's Guide to React</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Tables/Basics" title="HTML: tables">HTML: tables</a></li>
<li><a href="" title="JavaScript: Math.random()">JavaScript: Math.random()</a></li>
<li><a href="https://developer.mozilla.org/en/" title="JavaScript: search engine on Mozilla Developer Network">JavaScript: search engine on Mozilla Developer Network</a></li>
<li><a href="https://stackoverflow.com/questions/20222501/how-to-create-a-zero-filled-javascript-array-of-arbitrary-length/22209781" title="JavaScript: create 0 filled array">JavaScript: create 0 filled array</a></li>

</details>

### Exercises:

#### 1.1-1.5: Course information

Create the application, which can show information about a course.

Create an application according to the requirements described in [exercise #1.1 - #1.2](https://fullstackopen.com/en/part1/introduction_to_react#exercises-1-1-1-2), [exercise #1.3 - #1.5](https://fullstackopen.com/en/part1/java_script#exercises-1-3-1-5).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part1/courseinfo)

#### 1.6-1.11: Unicafe

Like most companies, the student restaurant of the University of Helsinki Unicafe collects feedback from its customers. Your task is to implement a web application for collecting customer feedback. There are only three options for feedback: good, neutral, and bad.

Create an application according to the requirements described in [exercise #1.6 - #1.11](https://fullstackopen.com/en/part1/a_more_complex_state_debugging_react_apps#exercises-1-6-1-14).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part1/unicafe)

#### 1.12-1.14: Anecdotes

The world of software engineering is filled with anecdotes that distill timeless truths from our field into short one-liners.
Expand the application that can display a random anecdote from the field of software engineering. Also user can vote for anecdote.

Create an application according to the requirements described in [exercise #1.12 - #1.14](https://fullstackopen.com/en/part1/a_more_complex_state_debugging_react_apps#exercises-1-6-1-14).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part1/anecdotes)

---

## Part 2: [Communicating with server](https://fullstackopen.com/en/part2)

### Sub-part A: [Rendering a collectin, modules](https://fullstackopen.com/en/part2/rendering_a_collection_modules)

<details>
<summary>Links:</summary>

<li><a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_creating-your-own-snippets" title="Visual Studio Code: snippets">Visual Studio Code: snippets</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets" title="VS Code plugins: snippet">VS Code plugins: snippet</a></li>
<li><a href="https://marketplace.visualstudio.com/search?term=console.log&target=VSCode&category=All%20categories&sortBy=Relevance" title="VS Code plugins: Console log snippets">VS Code plugins: Console log snippets</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" title="JavaScript: Array">JavaScript: Array</a></li>
<li><a href="" title="Functional Programming in JavaScript">Functional Programming in JavaScript</a></li>
<li><a href="https://youtu.be/BMUiFMZr7vk" title="Higher-order functions">Higher-order functions</a></li>
<li><a href="https://youtu.be/bCqtb-Z5YGQ" title="Map">Map</a></li>
<li><a href="https://youtu.be/Wl98eZpkp-c" title="Reduce basics">Reduce basics</a></li>
<li><a href="" title="JavaScript: Array .map()">JavaScript: Array .map()</a></li>
<li><a href="https://react.dev/learn/rendering-lists#keeping-list-items-in-order-with-key" title="React: items key">React: items key</a></li>
<li><a href="https://react.dev/learn/preserving-and-resetting-state#option-2-resetting-state-with-a-key" title="React: Component key">React: Component key</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" title="React: import">React: import</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export" title="React: export">React: export</a></li>
<li><a href="" title="JavaScript: Array .reduce()">JavaScript: Array .reduce()</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=cmstead.js-codeformer" title="VS Code plugins code former snippet">VS Code plugins code former snippet</a></li>

</details>

### Sub-part B: [Forms](https://fullstackopen.com/en/part2/forms)

<details>
<summary>Links:</summary>

<li><a href="https://react.dev/reference/react/useState" title="React: useState">React: useState</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/Forms" title="HTML: Forms">HTML: Forms</a></li>
<li><a href="https://react.dev/learn/responding-to-events" title="Event handlers">Event handlers</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit_event" title="HTMLFormElement: submit event">HTMLFormElement: submit event</a></li>
<li><a href="https://react.dev/reference/react-dom/components/input#controlling-an-input-with-a-state-variable" title="HTML: input">HTML: input</a></li>
<li><a href="" title="JavaScript: Array .concat()">JavaScript: Array .concat()</a></li>
<li><a href="https://react.dev/learn/updating-objects-in-state#why-is-mutating-state-not-recommended-in-react" title="React: Never mutate state directly">React: Never mutate state directly</a></li>
<li><a href="ternary" title="JavaScript: Conditional (ternary) operator">JavaScript: Conditional (ternary) operator</a></li>
<li><a href="" title="JavaScript: Array .filter()">JavaScript: Array .filter()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness" title="Equality comparisons and sameness">Equality comparisons and sameness</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" title="JavaScript: Array">JavaScript: Array</a></li>
<li><a href="https://www.joshbritz.co/posts/why-its-so-hard-to-check-object-equality/" title="JavaScript: object equality">JavaScript: object equality</a></li>
<li><a href="" title="Web: Window: alert()">Web: Window: alert()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" title="JavaScript: Template literals">JavaScript: Template literals</a></li>

</details>

### Sub-part C: [Getting data from server](https://fullstackopen.com/en/part2/getting_data_from_server)

<details>
<summary>Links:</summary>

<li><a href="https://github.com/typicode/json-server" title="JSON Server">JSON Server</a></li>
<li><a href="https://github.com/typicode/json-server#getting-started" title="JSON Server: install">JSON Server: install</a></li>
<li><a href="https://chrome.google.com/webstore/detail/jsonvue/chklaanhfefbnpoihckbnefhakgolnmc" title="Chrome extentions: JSONVue">Chrome extentions: JSONVue</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="API: XMLHttpRequest">API: XMLHttpRequest</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch" title="API: fetch">API: fetch</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" title="JavaScript: promises">JavaScript: promises</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Event_loop" title="JavaScript: runtime environments">JavaScript: runtime environments</a></li>
<li><a href="https://en.wikipedia.org/wiki/Input/output" title="Input/output">Input/output</a></li>
<li><a href="https://youtu.be/8aGhZQkoFbQ" title="What the heck is the event loop anyway?">What the heck is the event loop anyway?</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" title="API: Web Workers">API: Web Workers</a></li>
<li><a href="https://medium.com/techtrument/multithreading-javascript-46156179cf9a" title="Javascript Multithreading">Javascript Multithreading</a></li>
<li><a href="https://github.com/axios/axios" title="React, library">React, library</a></li>
<li><a href="https://docs.npmjs.com/about-npm" title="About npm">About npm</a></li>
<li><a href="<https://en.wikipedia.org/wiki/Port_(computer_networking" title="Computer networking: Port">Computer networking: Port</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises" title="JavaScript: Using promises">JavaScript: Using promises</a></li>
<li><a href="https://react.dev/learn/state-a-components-memory" title="React: state hook">React: state hook</a></li>
<li><a href="https://react.dev/reference/react#effect-hooks" title="React: useEffect">React: useEffect</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect" title="React: useEffect, conditional">React: useEffect, conditional</a></li>

</details>

### Sub-part D: [Altering data in server](https://fullstackopen.com/en/part2/altering_data_in_server)

<details>
<summary>Links:</summary>

<li><a href="https://github.com/typicode/json-server" title="json-server">json-server</a></li>
<li><a href="REST" title="Representational state transfer (REST)">Representational state transfer (REST)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Representational_state_transfer#Applied_to_web_services" title="RESTful APIs">RESTful APIs</a></li>
<li><a href="https://github.com/typicode/json-server#routes" title="Routes">Routes</a></li>
<li><a href="https://www.postman.com/downloads/" title="Postman">Postman</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" title="JavaScript: Template literals">JavaScript: Template literals</a></li>
<li><a href="" title="JavaScript: Array .find()">JavaScript: Array .find()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" title="JavaScript: Spread syntax">JavaScript: Spread syntax</a></li>
<li><a href="https://react.dev/learn/updating-objects-in-state#why-is-mutating-state-not-recommended-in-react" title="React: mutating state">React: mutating state</a></li>
<li><a href="https://en.wikipedia.org/wiki/Object_copying#Shallow_copy" title="Shallow copy">Shallow copy</a></li>
<li><a href="https://en.wikipedia.org/wiki/Single-responsibility_principle" title="Single-responsibility principle">Single-responsibility principle</a></li>
<li><a href="" title="JavaScript: Promise .then()">JavaScript: Promise .then()</a></li>
<li><a href="https://javascript.info/promise-chaining" title="JavaScript: Promise chaining">JavaScript: Promise chaining</a></li>
<li><a href="https://github.com/getify/You-Dont-Know-JS/blob/1st-ed/async%20%26%20performance/ch3.md" title="JavaScript: Book 'You-Dont-Know-JS' promise">JavaScript: Book 'You-Dont-Know-JS' promise</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#Property_definitions" title="JavaScript: Object initializer">JavaScript: Object initializer</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises" title="JavaScript: using promises">JavaScript: using promises</a></li>
<li><a href="" title="JavaScript: Promise .catch()">JavaScript: Promise .catch()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/alert" title="Web: Window: alert">Web: Window: alert</a></li>
<li><a href="" title="JavaScript: Array .filter()">JavaScript: Array .filter()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm" title="Web: Window: confirm">Web: Window: confirm</a></li>
<li><a href="https://github.com/axios/axios" title="React: axios library">React: axios library</a></li>

</details>

### Sub-part E: [Adding styles to React app](https://fullstackopen.com/en/part2/adding_styles_to_react_app)

<details>
<summary>Links:</summary>

<li><a href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/CSS_basics" title="Mozilla's CSS tutorial">Mozilla's CSS tutorial</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/CSS_preprocessor" title="CSS preprocessor">CSS preprocessor</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" title="Different types of CSS selectors">Different types of CSS selectors</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Class_selectors" title="CSS: Class selectors">CSS: Class selectors</a></li>
<li><a href="https://react.dev/learn#adding-styles" title="React: adding styles">React: adding styles</a></li>
<li><a href="https://react-cn.github.io/react/tips/inline-styles.html" title="React: inline styles">React: inline styles</a></li>
<li><a href="https://react.dev/reference/react-dom/components/common#applying-css-styles" title="React: style attribute">React: style attribute</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes" title="CSS: Pseudo classes">CSS: Pseudo classes</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect" title="React: Conditionally firing an effect">React: Conditionally firing an effect</a></li>
<li><a href="https://www.exchangerate-api.com/" title="Exchange rate API">Exchange rate API</a></li>
<li><a href="https://open.er-api.com/v6/latest/eur" title="currency exchange rates API">currency exchange rates API</a></li>
<li><a href="open API" title="Countires (open API)">Countires (open API)</a></li>
<li><a href="open API" title="Countires (open API): endpoint GET all">Countires (open API): endpoint GET all</a></li>
<li><a href="open API" title="Weather (open API)">Weather (open API)</a></li>
<li><a href="open API" title="Weather (open API): icons">Weather (open API): icons</a></li>
<li><a href="https://create-react-app.dev/docs/adding-custom-environment-variables/" title="Environment variables">Environment variables</a></li>

</details>

### Exercises:

#### 2.1-2.5: Course information

Course information application to show a topics and exercices with logic to render and count the component with conditions.

Create an application according to the requirements described in [exercise #2.1 - #2.5](https://fullstackopen.com/en/part2/rendering_a_collection_modules#exercises-2-1-2-5).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part2/courseinfo)

#### 2.6-2.17: Phone book

Phone book for maintaining persons, use json server for this. Create a single page with a form and buttons to add, update, and remove a person. All code is divided into modules and components. Logc uses axios for data manipulation, rendering hooks, promises, and Windows objects for error handling and user experience. Added some style.

Create an application according to the requirements described in [exercise #2.6 - #2.10](https://fullstackopen.com/en/part2/forms#exercises-2-6-2-10), [exercise #2.11](https://fullstackopen.com/en/part2/getting_data_from_server#exercise-2-11),  
[exercise #2.12 - 2.15](https://fullstackopen.com/en/part2/altering_data_in_server#exercises-2-12-2-15), [exercise #2.16-2.17](https://fullstackopen.com/en/part2/adding_styles_to_react_app#exercises-2-16-2-17).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part2/phonebook)

#### 2.18-2.20: Countries

A single page application for displaying counties. Data is getting from open API services. The user can search for counties by name and browse the county to get all information including whether. Use React, axios library.

Create an application according to the requirements described in [exercise #2.18 - #2.20](https://fullstackopen.com/en/part2/adding_styles_to_react_app#exercises-2-18-2-20).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part2/countries)

---

## Part 3: [Programming a server with NodeJS and Express](https://fullstackopen.com/en/part3)

### Sub-part A: [Node.js and Express](https://fullstackopen.com/en/part3/node_js_and_express)

<details>
<summary>Links:</summary>

<li><a href="https://nodejs.org/en" title="NodeJS">NodeJS</a></li>
<li><a href="https://v8.dev/" title="Google's Chrome V8 JavaScript engine">Google's Chrome V8 JavaScript engine</a></li>
<li><a href="transpiler" title="babel (transpiler)">babel (transpiler)</a></li>
<li><a href="https://docs.npmjs.com/cli/v9/using-npm/scripts" title="npm: scripts">npm: scripts</a></li>
<li><a href="https://nodejs.org/docs/latest-v8.x/api/http.html" title="NodeJS: http">NodeJS: http</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export" title="JavaScript: export">JavaScript: export</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" title="JavaScript: import">JavaScript: import</a></li>
<li><a href="https://en.wikipedia.org/wiki/CommonJS" title="Node.js: CommonJS modules">Node.js: CommonJS modules</a></li>
<li><a href="https://nodejs.org/api/esm.html#modules-ecmascript-modules" title="Modules: ECMAScript modules">Modules: ECMAScript modules</a></li>
<li><a href="https://github.com/typicode/json-server" title="json-server">json-server</a></li>
<li><a href="https://expressjs.com/" title="Express">Express</a></li>
<li><a href="https://lexi-lambda.github.io/blog/2016/08/24/understanding-the-npm-dependency-model/" title="Transitive dependencies">Transitive dependencies</a></li>
<li><a href="https://docs.npmjs.com/about-semantic-versioning" title="Semantic versioning">Semantic versioning</a></li>
<li><a href="https://en.wikipedia.org/wiki/Backward_compatibility" title="Backward compatibility">Backward compatibility</a></li>
<li><a href="https://expressjs.com/en/guide/migrating-5.html" title="Moving to Express 5">Moving to Express 5</a></li>
<li><a href="https://expressjs.com/en/4x/api.html#req" title="Express: request">Express: request</a></li>
<li><a href="https://expressjs.com/en/4x/api.html#res" title="Express: response">Express: response</a></li>
<li><a href="" title="Express: response .semd()">Express: response .semd()</a></li>
<li><a href="" title="Express: response .json()">Express: response .json()</a></li>
<li><a href="https://en.wikipedia.org/wiki/JSON" title="JSON">JSON</a></li>
<li><a href="https://nodejs.org/docs/latest-v8.x/api/repl.html" title="NodeJS: Repl">NodeJS: Repl</a></li>
<li><a href="https://github.com/remy/nodemon" title="nodemon">nodemon</a></li>
<li><a href="https://gaearon.github.io/react-hot-loader/getstarted/" title="React Hot Loader">React Hot Loader</a></li>
<li><a href="https://github.com/typicode/json-server#routes" title="json-server: routs">json-server: routs</a></li>
<li><a href="REST" title="Representational State Transfer (REST) architectural style">Representational State Transfer (REST) architectural style</a></li>
<li><a href="https://martinfowler.com/articles/richardsonMaturityModel.html" title="levels of RESTful maturity">levels of RESTful maturity</a></li>
<li><a href="https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven" title="REST APIs must be hypertext-driven">REST APIs must be hypertext-driven</a></li>
<li><a href="https://www.oreilly.com/library/view/restful-web-services/9780596529260/" title="Book 'RESTful Web Services'">Book 'RESTful Web Services'</a></li>
<li><a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" title="CRUD API">CRUD API</a></li>
<li><a href="https://en.wikipedia.org/wiki/Resource-oriented_architecture" title="Resource-oriented architecture">Resource-oriented architecture</a></li>
<li><a href="https://expressjs.com/en/guide/routing.html" title="Express: routing">Express: routing</a></li>
<li><a href="http://expressjs.com/en/guide/routing.html#route-parameters" title="Express: routing route-parameters">Express: routing route-parameters</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" title="JavaScript: Number">JavaScript: Number</a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9110.html#name-404-not-found" title="status code 404 not found">status code 404 not found</a></li>
<li><a href="" title="Express: response .status()">Express: response .status()</a></li>
<li><a href="" title="Express: response .end()">Express: response .end()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy" title="JavaScript: Truthy">JavaScript: Truthy</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" title="JavaScript: Falsy">JavaScript: Falsy</a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9110.html#name-204-no-content" title="status code 204 no content">status code 204 no content</a></li>
<li><a href="https://curl.se/" title="curl">curl</a></li>
<li><a href="https://www.postman.com/" title="Postman">Postman</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=humao.rest-client" title="VS Code REST client plugin">VS Code REST client plugin</a></li>
<li><a href="https://www.jetbrains.com/help/webstorm/http-client-in-product-code-editor.html" title="The WebStorm HTTP Client">The WebStorm HTTP Client</a></li>
<li><a href="https://expressjs.com/en/api.html" title="Express: json-parser">Express: json-parser</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types" title="Multipurpose Internet Mail Extensions or MIME type">Multipurpose Internet Mail Extensions or MIME type</a></li>
<li><a href="https://github.com/Huachao/vscode-restclient/blob/master/README.md#usage" title="VS Code REST client plugin: instructions in the documentation">VS Code REST client plugin: instructions in the documentation</a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9110.html#name-400-bad-request" title="status code 400 bad request">status code 400 bad request</a></li>
<li><a href="" title="JavaScript: Math .max()">JavaScript: Math .max()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" title="JavaScript: Spread syntax">JavaScript: Spread syntax</a></li>
<li><a href="middleware" title="Express: request-timestamp (middleware)">Express: request-timestamp (middleware)</a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9110.html#name-common-method-properties" title="HTTP standard">HTTP standard</a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9110.html#name-head" title="HTTP HEAD">HTTP HEAD</a></li>
<li><a href="https://expressjs.com/en/api.html" title="Express: json-parser">Express: json-parser</a></li>
<li><a href="http://expressjs.com/en/guide/using-middleware.html" title="Express: using middleware">Express: using middleware</a></li>
<li><a href="logger middleware" title="Express: morgan (logger middleware)">Express: morgan (logger middleware)</a></li>
<li><a href="logger middleware" title="Express: morgan - creating new tokens (logger middleware) ">Express: morgan - creating new tokens (logger middleware) </a></li>
<li><a href="" title="JavaScript: JSON .stringify()">JavaScript: JSON .stringify()</a></li>

</details>

### Sub-part B: [Deploying app to internet](https://fullstackopen.com/en/part3/deploying_app_to_internet)

<details>
<summary>Links:</summary>

<li><a href="Cross-Origin Resource Sharing" title="CORS(Cross-Origin Resource Sharing)">CORS(Cross-Origin Resource Sharing)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" title="Web: CORS">Web: CORS</a></li>
<li><a href="https://www.heroku.com/?" title="Heroku">Heroku</a></li>
<li><a href="https://fly.io/" title="Fly.io">Fly.io</a></li>
<li><a href="https://render.com/" title="Render">Render</a></li>
<li><a href="https://railway.app/" title="Railway">Railway</a></li>
<li><a href="https://www.cyclic.sh/" title="Cyclic">Cyclic</a></li>
<li><a href="https://replit.com/" title="Replit">Replit</a></li>
<li><a href="https://codesandbox.io/" title="CodeSandBox">CodeSandBox</a></li>
<li><a href="https://en.wikipedia.org/wiki/Environment_variable" title="Environment variable">Environment variable</a></li>
<li><a href="https://legacy.reactjs.org/docs/optimizing-performance.html#use-the-production-build" title="React: Use the Production Build">React: Use the Production Build</a></li>
<li><a href="<https://en.wikipedia.org/wiki/Minification_(programming" title="Minification">Minification</a></li>
<li><a href="https://expressjs.com/en/starter/static-files.html" title="Express: middleware static">Express: middleware static</a></li>
<li><a href="https://www.w3.org/TR/WD-html40-970917/htmlweb.html#h-5.1.2" title="Relative URLs">Relative URLs</a></li>
<li><a href="https://www.npmjs.com/package/shx" title="npm Shx">npm Shx</a></li>
<li><a href="https://create-react-app.dev/docs/proxying-api-requests-in-development/" title="React: Proxy">React: Proxy</a></li>
<li><a href="https://github.com/mars/heroku-cra-node" title="create-react-app with a Node server on Heroku">create-react-app with a Node server on Heroku</a></li>
<li><a href="https://github.com/mars/create-react-app-buildpack" title="Heroku Buildpack for create-react-app">Heroku Buildpack for create-react-app</a></li>

</details>

### Sub-part C: [Saving data to MongoDB](https://fullstackopen.com/en/part3/saving_data_to_mongo_db)

<details>
<summary>Links:</summary>

<li><a href="https://tenderlovemaking.com/2016/02/05/i-am-a-puts-debuggerer.html" title="I am a puts debuggerer">I am a puts debuggerer</a></li>
<li><a href="https://swizec.com/blog/javascript-debugging-slightly-beyond-consolelog/" title="debugging console.log">debugging console.log</a></li>
<li><a href="https://code.visualstudio.com/docs/editor/debugging" title="VSCode: debugging">VSCode: debugging</a></li>
<li><a href="http://gettingtolean.com/toyota-principle-5-build-culture-stopping-fix/" title="stopping fix principle">stopping fix principle</a></li>
<li><a href="https://www.mongodb.com/" title="MongoDB">MongoDB</a></li>
<li><a href="https://en.wikipedia.org/wiki/Document-oriented_database" title="Document oriented database">Document oriented database</a></li>
<li><a href="https://en.wikipedia.org/wiki/NoSQL" title="NoSQL">NoSQL</a></li>
<li><a href="https://www.mongodb.com/docs/manual/core/databases-and-collections/" title="MongoDB: collections">MongoDB: collections</a></li>
<li><a href="https://www.mongodb.com/docs/manual/core/document/" title="MongoDB: documents">MongoDB: documents</a></li>
<li><a href="https://www.mongodb.com/atlas/database" title="MongoDB Atlas">MongoDB Atlas</a></li>
<li><a href="https://mongodb.github.io/node-mongodb-native/" title="MongoDB and Node.js">MongoDB and Node.js</a></li>
<li><a href="https://mongoosejs.com/index.html" title="Node.js: mongoosejs library">Node.js: mongoosejs library</a></li>
<li><a href="https://www.mongodb.com/docs/atlas/troubleshoot-connection/#special-characters-in-connection-string-password" title="MongoDB Atlas: password">MongoDB Atlas: password</a></li>
<li><a href="https://mongoosejs.com/docs/guide.html" title="Mongoose: schema">Mongoose: schema</a></li>
<li><a href="https://mongoosejs.com/docs/models.html" title="Mongoose: models">Mongoose: models</a></li>
<li><a href="" title="Mongoose: models.find()">Mongoose: models.find()</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/operator/" title="MongoDB: find operators">MongoDB: find operators</a></li>
<li><a href="https://nodejs.org/docs/latest-v8.x/api/process.html#process_process_argv" title="Node.js: process.argv">Node.js: process.argv</a></li>
<li><a href="https://stackoverflow.com/questions/7034848/mongodb-output-id-instead-of-id" title="MongoDB: Modify output">MongoDB: Modify output</a></li>
<li><a href="https://mongoosejs.com/docs/guide.html#options" title="Mongoose: options">Mongoose: options</a></li>
<li><a href="https://mongoosejs.com/docs/guide.html#toJSON" title="Mongoose: toJSON">Mongoose: toJSON</a></li>
<li><a href="" title="Mongoose: toObject()">Mongoose: toObject()</a></li>
<li><a href="" title="Mongoose: transform()">Mongoose: transform()</a></li>
<li><a href="https://nodejs.org/docs/latest-v8.x/api/modules.html" title="Node: modules">Node: modules</a></li>
<li><a href="https://github.com/motdotla/dotenv#readme" title="Node: dotenv">Node: dotenv</a></li>
<li><a href="https://community.fly.io/t/clarification-on-environment-variables/6309" title="fly: dockerignore">fly: dockerignore</a></li>
<li><a href="" title="Mongoose: Model.findById()">Mongoose: Model.findById()</a></li>
<li><a href="https://sentry.io/welcome/" title="Sentry">Sentry</a></li>
<li><a href="https://expressjs.com/en/guide/error-handling.html" title="Express: Error Handling">Express: Error Handling</a></li>
<li><a href="" title="Mongoose: Model .findByIdAndRemove()">Mongoose: Model .findByIdAndRemove()</a></li>
<li><a href="" title="Mongoose: Model .findByIdAndUpdate()">Mongoose: Model .findByIdAndUpdate()</a></li>

</details>

### Sub-part D: [Validation and ESLint](https://fullstackopen.com/en/part3/validation_and_es_lint)

<details>
<summary>Links:</summary>

<li><a href="https://mongoosejs.com/docs/validation.html" title="Mongoose: validation">Mongoose: validation</a></li>
<li><a href="https://mongoosejs.com/docs/validation.html#built-in-validators" title="Mongoose: Built-in validation">Mongoose: Built-in validation</a></li>
<li><a href="https://mongoosejs.com/docs/validation.html#custom-validators" title="Mongoose: Custom validation">Mongoose: Custom validation</a></li>
<li><a href="https://github.com/mongoose-unique-validator/mongoose-unique-validator#find--updates" title="Mongoose: Validation with update">Mongoose: Validation with update</a></li>
<li><a href="<https://en.wikipedia.org/wiki/Lint_(software" title="Lint">Lint</a></li>
<li><a href="https://en.wikipedia.org/wiki/Static_program_analysis" title="Static program analysis">Static program analysis</a></li>
<li><a href="https://checkstyle.sourceforge.io/" title="checkstyle">checkstyle</a></li>
<li><a href="https://eslint.org/" title="ESLint">ESLint</a></li>
<li><a href="https://eslint.org/docs/latest/use/configure/#ignoring-files-and-directories" title="ESLint: ignoring">ESLint: ignoring</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" title="VSCode: eslint">VSCode: eslint</a></li>
<li><a href="https://eslint.org/docs/latest/rules/" title="ESLint: rules">ESLint: rules</a></li>
<li><a href="https://eslint.org/docs/latest/rules/eqeqeq" title="ESLint: the eqeqeq rule">ESLint: the eqeqeq rule</a></li>
<li><a href="https://eslint.org/docs/latest/rules/no-trailing-spaces" title="ESLint: the no trailing spaces rule">ESLint: the no trailing spaces rule</a></li>
<li><a href="https://eslint.org/docs/latest/rules/object-curly-spacing" title="ESLint: the object curly spacing rule ">ESLint: the object curly spacing rule </a></li>
<li><a href="https://eslint.org/docs/latest/use/configure/#configuring-rules" title="ESLint: configuring rules">ESLint: configuring rules</a></li>
<li><a href="https://github.com/airbnb/javascript" title="Airbnb Javascript style guide">Airbnb Javascript style guide</a></li>
<li><a href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb" title="Airbnb's ESlint configuration">Airbnb's ESlint configuration</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments</summary>

> fix errors, like example with 'windows' or 'unix' system

```bash
npx eslint . --fix
```

file in a project root for linting rulse

> .eslintrc.js

include the next rules

```javascript
module.exports = {
  'env': {
    'commonjs': true,
    'es2021': true,
    'node': true,
  },
  'extends': 'eslint:recommended',
  'parserOptions': {
    'ecmaVersion': 'latest',
  },
  'rules': {
    'indent': ['error', 2],
    'linebreak-style': ['error', 'unix'],
    'quotes': ['error', 'single'],
    'semi': ['error', 'never'],
    'eqeqeq': 'error',
    'no-trailing-spaces': 'error',
    'object-curly-spacing': ['error', 'always'],
    'arrow-spacing': ['error', { before: true, after: true }],
    'no-console': 0,
  },
}
```

</details>

### Exercises:

#### 3.1-3.22: Phonebook backend

Full stack project **'Phone book'** for maintaining persons, use mongoDB server with back-end and front-end for this. Create a single page with a form and buttons to add, update, and remove a person with REAT API. All front-end code is divided into modules and components. Logc uses axios for data manipulation, rendering hooks, promises, and Windows objects for error handling and user experience. Added some style. Backend use enviroment to hide toket for connetion to database. Created CRUD API for manipulate data. All API tested by requests. Made validation and linting. The app deployed by [this link](https://phonebook-1oyz.onrender.com).

##### REST:

- GET **./info** - get general information.
- GET **./api/persons** - get all persons.
- GET **./api/persons/:id** - get a singl person by id.
- POST **./api/persons** - create a singl person by body.
- PUT **./api/persons/:id** - update a singl person by id.
- DELETE **./api/persons/:id** - delete a singl person by id.

Create an application according to the requirements described in [exercises 3.1-3.6](https://fullstackopen.com/en/part3/node_js_and_express#exercises-3-1-3-6), [exercises 3.7-3.8](https://fullstackopen.com/en/part3/node_js_and_express#exercises-3-7-3-8), [exercises 3.9-3.11](https://fullstackopen.com/en/part3/deploying_app_to_internet#exercises-3-9-3-11), [exercise 3.12](https://fullstackopen.com/en/part3/saving_data_to_mongo_db#exercise-3-12), [exercises 3.13-3.14](https://fullstackopen.com/en/part3/saving_data_to_mongo_db#exercises-3-13-3-14), [exercises 3.15-3.18](https://fullstackopen.com/en/part3/saving_data_to_mongo_db#exercises-3-15-3-18), [exercises 3.19-3.21](https://fullstackopen.com/en/part3/validation_and_es_lint#exercises-3-19-3-21), [exercise 3.22](https://fullstackopen.com/en/part3/validation_and_es_lint#exercise-3-22).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part3/phonebook)

---

## Part 4: [Testing Express servers, user administration](https://fullstackopen.com/en/part4)

### Sub-part A: [Structure of backend application, introduction to testing](https://fullstackopen.com/en/part4/structure_of_backend_application_introduction_to_testing)

<details>
<summary>Links:</summary>

<li><a href="https://www.graylog.org/" title="graylog - external logging service">graylog</a></li>
<li><a href="https://papertrailapp.com/" title="papertrail - external logging service">papertrail</a></li>
<li><a href="https://dev.to/nermineslimane/always-separate-app-and-server-files--1nc7" title="Always separate app and server files !">The best practices in the Express app and the code</a></li>
<li><a href="https://nodejsbestpractices.com/sections/projectstructre/separateexpress/" title="Separate Express 'app' and 'server'">The best practices in the Express app and the code</a></li>
<li><a href="https://expressjs.com/en/api.html#router" title="Router">Express: Router</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" title="Array.prototype.reduce()">JavaScript Array .reduce()</a></li>
<li><a href="https://www.youtube.com/watch?v=BMUiFMZr7vk&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84" title="Functional Javascript">Functional Javascript series on YouTube</a></li>
<li><a href="https://jestjs.io/" title="Jest">Jest - JavaScript Testing Framework</a></li>
<li><a href="https://mochajs.org/" title="Mocha">JavaScript testing libraries Mocha</a></li>
<li><a href="https://jestjs.io/docs/expect#expectvalue" title="Jest: expect function">Jest: .expect() </a></li>
<li><a href="https://jestjs.io/docs/expect#tobevalue
" title="Jest: toBe function">Jest: .toBe()</a></li>
<li><a href="https://jestjs.io/docs/troubleshooting" title="Jest: Troubleshooting">Jest: Troubleshooting</a></li>
<li><a href="https://jestjs.io/docs/api#testonlyname-fn-timeout" title="Jest: test.only()">Jest: test.only function</a></li>
<li><a href="https://jestjs.io/docs/cli" title="Jest CLI Options">Jest: Running tests from the command line</a></li>
<li><a href="https://jestjs.io/docs/expect#toequalvalue" title="Jest toEqual function">Jest: .toEqual()</a></li>
<li><a href="https://lodash.com/" title="Lodash">A modern JavaScript utility library delivering modularity, performance & extras</a></li>
<li><a href="https://lodash.com/docs/4.17.15#chain" title="Lodash chain function">Lodash .chain()</a></li>
<li><a href="https://lodash.com/docs/4.17.15#groupBy" title="Lodash groupBy function">Lodash .groupBy()</a></li>
<li><a href="https://lodash.com/docs/4.17.15#mapValues" title="Lodash mapValues function">Lodash .mapValues()</a></li>
<li><a href="https://lodash.com/docs/4.17.15#transform" title="Lodash transform function">Lodash .transform()</a></li>
<li><a href="https://lodash.com/docs/4.17.15#maxBy" title="Lodash maxBy function">Lodash .maxBy()</a></li>
<li><a href="https://lodash.com/docs/4.17.15#toPairs" title="Lodash toPairs function">Lodash .toPairs()</a></li>
<li><a href="https://lodash.com/docs/4.17.15#sumBy" title="Lodash sumBy function">Lodash .sumBy()</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments</summary>

#### Structure

The backend has the next structure

```
âââ index.js
âââ app.js
âââ build
â   âââ ...
âââ controllers
â   âââ notes.js
âââ models
â   âââ note.js
âââ package-lock.json
âââ package.json
âââ utils
â   âââ config.js
â   âââ logger.js
â   âââ middleware.js
```

The enterpoint with configing and starting a server

> index.js

```javascript
const app = require('./app')
const PORT = require('./utils/config').PORT
const logger = require('./utils/logger')

app.listen(config.PORT, () => {
  logger.info(`Server running on port ${PORT}`)
})
```

The main app with configing, all settings and connections

> app.js

```javascript
const { MONGODB_URI } = require('./utils/config')
const express = require('express')
const app = express()
const cors = require('cors')
const notesRouter = require('./controllers/notes')
const middleware = require('./utils/middleware')
const logger = require('./utils/logger')
const mongoose = require('mongoose')

mongoose.set('strictQuery', false)

mongoose
  .connect(MONGODB_URI)
  .then(() => {
    logger.info('connected to MongoDB')
  })
  .catch((error) => {
    logger.error('error connecting to MongoDB:', error.message)
  })

app.use(cors())
app.use(express.static('build'))
app.use(express.json())
app.use(middleware.requestLogger)

app.use('/api/notes', notesRouter)

app.use(middleware.unknownEndpoint)
app.use(middleware.errorHandler)

module.exports = app
```

Controllers folder for control requests on certain API with response on it

> controllers/notes.js

```javascript
const notesRouter = require('express').Router()
const Note = require('../models/note')

notesRouter.get('/', (request, response) => {
  Note.find({}).then((notes) => {
    response.json(notes)
  })
})

notesRouter.get('/:id', (request, response, next) => {
  Note.findById(request.params.id)
    .then((note) => {
      if (note) {
        response.json(note)
      } else {
        response.status(404).end()
      }
    })
    .catch((error) => next(error))
})

notesRouter.post('/', (request, response, next) => {
  const body = request.body

  const note = new Note({
    content: body.content,
    important: body.important || false,
  })

  note
    .save()
    .then((savedNote) => {
      response.json(savedNote)
    })
    .catch((error) => next(error))
})

notesRouter.delete('/:id', (request, response, next) => {
  Note.findByIdAndRemove(request.params.id)
    .then(() => {
      response.status(204).end()
    })
    .catch((error) => next(error))
})

notesRouter.put('/:id', (request, response, next) => {
  const body = request.body

  const note = {
    content: body.content,
    important: body.important,
  }

  Note.findByIdAndUpdate(request.params.id, note, { new: true })
    .then((updatedNote) => {
      response.json(updatedNote)
    })
    .catch((error) => next(error))
})

module.exports = notesRouter
```

Module folder for keeping all modules of data structure

> module/note.js

```javascript
const mongoose = require('mongoose')

const noteSchema = new mongoose.Schema({
  content: {
    type: String,
    required: true,
    minlength: 5,
  },
  important: Boolean,
})

noteSchema.set('toJSON', {
  transform: (document, returnedObject) => {
    returnedObject.id = returnedObject._id.toString()
    delete returnedObject._id
    delete returnedObject.__v
  },
})

module.exports = mongoose.model('Note', noteSchema)
```

Utils folder for keeping all nessesery functions and data

> utils/logger.js

```javascript
const info = (...params) => {
  console.log(...params)
}

const error = (...params) => {
  console.error(...params)
}

module.exports = {
  info,
  error,
}
```

> utils/config.js

```javascript
require('dotenv').config()

const PORT = process.env.PORT
const MONGODB_URI = process.env.MONGODB_URI

module.exports = {
  MONGODB_URI,
  PORT,
}
```

> utils/middleware.js

```javascript
const logger = require('./logger')

const requestLogger = (request, response, next) => {
  logger.info('Method:', request.method)
  logger.info('Path:  ', request.path)
  logger.info('Body:  ', request.body)
  logger.info('---')
  next()
}

const unknownEndpoint = (request, response) => {
  response.status(404).send({ error: 'unknown endpoint' })
}

const errorHandler = (error, request, response, next) => {
  logger.error(error.message)

  if (error.name === 'CastError') {
    return response.status(400).send({ error: 'malformatted id' })
  } else if (error.name === 'ValidationError') {
    return response.status(400).json({ error: error.message })
  }

  next(error)
}

module.exports = {
  requestLogger,
  unknownEndpoint,
  errorHandler,
}
```

#### Testing

install jest library in a project as development part

```bash
npm install --save-dev jest
```

update package to run test

> package.json

```json
{
  //...
  "scripts": {
    //...
    "test": "jest --verbose"
  }
  //...
}
```

Jest requires one to specify that the execution environment is Node.

> package.json

```json
{
  ...
  "jest": {
    "testEnvironment": "node"
  }
}
```

Add to lint rules file to work with jest

> .eslintrc.js

```javascript
module.exports = {
  'env': {
    //...
    'jest': true,
  },
  // ...

```

Tests and descriptions

> tests/name.test.js

```javascript
describe('description of the block with tests', () => {
  // tests
})
```

```javascript
test('description of the single test', () => {
  expect(true === true).toBe(true)
})
```

#### Lodash library

install Lodash

> npm i -g lodash

> npm i --save lodash

> npm i --save-dev lodash

```javascript
const _ = require('lodash')
const blogs = require('dummy_data').blogs

const result = _.chain(blogs)
  .groupBy('author')
  .mapValues((blogs) => blogs.length)
  .transform((result, value, key) => {
    return result.push({ 'author': key, 'blogs': value })
  }, [])
  .maxBy('blogs')
  .value()
```

</details>

### Sub-part B: [Testing the backend](https://fullstackopen.com/en/part4/testing_the_backend)

<details>
<summary>Links:</summary>

<li><a href="https://en.wikipedia.org/wiki/Unit_testing" title="Unit testing">Unit testing</a></li>
<li><a href="https://github.com/nodkz/mongodb-memory-server" title="Mongodb memory server">Mongodb memory server</a></li>
<li><a href="https://en.wikipedia.org/wiki/Integration_testing" title="Integration testing">Integration testing</a></li>
<li><a href="https://jestjs.io/docs/cli#--runinband" title="Jest --runInBand">Jest --runInBand</a></li>
<li><a href="https://www.npmjs.com/package/cross-env" title="cross-env">Use cross-env to set environment variables in Windows</a></li>
<li><a href="https://www.mongodb.com/docs/manual/core/inmemory/" title="Mongo DB In-Memory Storage Engine">Mongo DB In-Memory Storage Engine</a></li>
<li><a href="https://www.docker.com/" title="Docker">Docker</a></li>
<li><a href="https://github.com/node-config/node-config" title="node-config">Node-config package</a></li>
<li><a href="https://github.com/ladjs/supertest" title="SuperTest">SuperTest</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" title="Regular Expressions">Regular Expressions</a></li>
<li><a href="https://jestjs.io/docs/asynchronous" title="Jest: asynchronous">Jest: Testing Asynchronous Code</a></li>
<li><a href="https://jestjs.io/docs/api#afterallfn-timeout" title="Jest: afterAll method">Jest: afterAll method</a></li>
<li><a href="https://mongoosejs.com/docs/jest.html" title="Mongoose and Jest">Mongoose documentation does not recommend testing Mongoose applications with Jest.</a></li>
<li><a href="https://jestjs.io/docs/expect#expectvalue" title="Jest: expect">Jest Expect method</a></li>
<li><a href="https://jestjs.io/docs/api#beforeeachfn-timeout" title="Jest: beforeEach method">Jest: beforeEach method</a></li>
<li><a href="https://jestjs.io/docs/setup-teardown" title="Jest: Setup and Teardown">Jest: Setup and Teardown</a></li>
<li><a href="https://jestjs.io/docs/expect#tocontainitem" title="Jest: toContain">Jest toContain method</a></li>
<li><a href="https://jestjs.io/docs/api#testonlyname-fn-timeout" title="Jest: test.only">Jest: run only one tests (if one file)</a></li>
<li><a href="http://callbackhell.com/" title="JavaScript: Callback hell">JavaScript: What is Callback hell</a></li>
<li><a href="https://javascript.info/promise-chaining" title="JavaScript: Promises chaining">JavaScript: Promises chaining</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator" title="JavaScript: Generator">JavaScript: Generator</a></li>
<li><a href="https://github.com/getify/You-Dont-Know-JS/blob/1st-ed/async%20%26%20performance/ch4.md#iterating-generators-asynchronously" title="JavaScript: asynchronous code">JavaScript: clever way of writing asynchronous code in a way that "looks synchronous"</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" title="JavaScript: await">JavaScript: await</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" title="JavaScript: async function">JavaScript: async function</a></li>
<li><a href="https://en.wikipedia.org/wiki/Regression_testing" title="Regression testing">Regression testing</a></li>
<li><a href="https://github.com/davidbanham/express-async-errors" title="ExpressJS Async Errors">ExpressJS Async Errors</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" title="JavaScript: Promise all">JavaScript: Promise all</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" title="JavaScript: for...of">JavaScript: for...of</a></li>
<li><a href="https://jestjs.io/docs/expect#tocontainequalitem" title="Jest: toContainEqual">Jest toContainEqual method</a></li>
<li><a href="https://jestjs.io/docs/expect#tobedefined" title="Jest: toBeDefined">Jest toBeDefined method</a></li>
</details>

<details>
<summary>Ð¡ommands and fragments</summary>

#### NODE_ENV and cross-env

Add execution mode of the application with the NODE_ENV

> package.json

```json
  // ...
  "scripts": {
    "start": "cross-env NODE_ENV=production node index.js",
    "dev": "cross-env NODE_ENV=development nodemon index.js",
    // ...
    "test": "cross-env NODE_ENV=test jest --verbose --runInBand"
  },
  // ...
```

install cross-env to set environment variables in Windows

> npm install cross-env

> npm install --save-dev cross-env

Update confivg and env to use separate database for testing

> config.js

```javascript
const MONGODB_URI =
  process.env.NODE_ENV === 'test'
    ? process.env.TEST_MONGODB_URI
    : process.env.MONGODB_URI
```

> .env

```javascript
MONGODB_URI=mongodb+srv://user:<password>@cluster0.o1opl.mongodb.net/prodApp?retryWrites=true&w=majority
TEST_MONGODB_URI=mongodb+srv://user:<password>@cluster0.o1opl.mongodb.net/testApp?retryWrites=true&w=majority
```

> utils/logger.js

```javascript
const info = (...params) => {
  if (process.env.NODE_ENV !== 'test') {
    console.log(...params)
  }
}
```

#### SuperTest

Install SuperTest as an npm module and save it to your package.json file as a development dependency

> npm install supertest --save-dev

Cod for testing

> tests/note_api.test.js

```javascript
const mongoose = require('mongoose')
const supertest = require('supertest')
const app = require('../app')
const api = supertest(app)

//...

describe('get blogs after dummy_blogs saved', () => {
  test('successful with status code 200 as json', async () => {
    await api
      .get('/api/blogs')
      .expect(200)
      .expect('Content-Type', /application\/json/)
  })

  test('returned the same length of blogs', async () => {
    const response = await api.get('/api/blogs')
    expect(response.body).toHaveLength(init.listWithManyBlog.length)
  })

  test('there are defined "id" property', async () => {
    const blogsInDb = await helper.blogsInDb()
    expect(blogsInDb[0].id).toBeDefined()
  })
})

describe('post a single blog after dummy_blogs saved', () => {
  //...

  test('the value of likes is as default if without likes', async () => {
    const postBlog = {
      title: 'Blog',
      author: 'Member of Wikipedia',
      url: 'https://en.wikipedia.org/wiki/Blog',
    }

    const response = await api.post('/api/blogs').send(postBlog)
    expect(response.body.likes).toBe(0)
  })

  //...
})

describe('delete a blog after dummy_blogs saved', () => {
  //...

  test('fails with status code 400 if id is invalid', async () => {
    let idBlogToDelete
    await api.delete(`/api/blogs/${idBlogToDelete}`).expect(400)

    idBlogToDelete = '0000'
    await api.delete(`/api/blogs/${idBlogToDelete}`).expect(400)

    const blogsInDb = await helper.blogsInDb()
    expect(blogsInDb).toHaveLength(init.listWithManyBlog.length)
  })
})

describe('put a blog after dummy_blogs saved', () => {
  //...

  test('successful the put blog still in the DB', async () => {
    const blogsInDb = await helper.blogsInDb()
    const putBlog = {
      title: 'Blog',
      author: 'Member of Wikipedia',
      url: 'https://en.wikipedia.org/wiki/Blog',
      likes: 5,
    }

    await api.put(`/api/blogs/${blogsInDb[0].id}`).send(putBlog)

    const blogsInDbAfterPut = await helper.blogsInDb()
    expect(blogsInDbAfterPut).toHaveLength(init.listWithManyBlog.length)

    const ids = blogsInDbAfterPut.map((b) => b.id)
    expect(ids).toContain(blogsInDb[0].id)
  })

  //...
})

//...
```

add close db connection after all tests

```javascript
afterAll(async () => {
  await mongoose.connection.close()
})
```

JS file with functions to test

> tests/test_helper.js

```javascript
const Note = require('../models/note')

const initialNotes = [
  {
    content: 'HTML is easy',
    important: false,
  },
  //...
]

const notesInDb = async () => {
  const notes = await Note.find({})
  return notes.map((note) => note.toJSON())
}

module.exports = {
  initialNotes,
  notesInDb,
}
```

Update before Ench tests function with Promise.all (can use map for init aray)

> tests/note_api.test.js

```javascript
beforeEach(async () => {
  await Note.deleteMany({})

  const noteObjects = helper.initialNotes.map((note) => new Note(note))
  const promiseArray = noteObjects.map((note) => note.save())
  await Promise.all(promiseArray)
})
```

or

````javascript
beforeEach(async () => {
  await Note.deleteMany({})
  await Note.insertMany(helper.initialNotes)
})



update controller with async and await

```javascript
notesRouter.get('/', async (request, response) => {
  const notes = await Note.find({})
  response.json(notes)
})
````

Test sertan file with tests or test

> npm test -- tests/note_api.test.js

> npm test -- -t "a specific note is within the returned notes"

> npm test -- -t 'notes'

#### Try catch block or ExpressJS Async Errors

Try catch block

```javascript
try {
  // do the async operations here
} catch (exception) {
  next(exception)
}
```

install the ExpressJS Async Errors library

> npm install express-async-errors

update app not to use try catch in routers. No need more use next() and catch errors in router, but need to use a middlwear for catch it futher.

> app.js

```javascript
const express = require('express')
require('express-async-errors')
const app = express()
//...
```

#### Tests:

- get all notes after dummy notes saved in DB

  - successful with status code 200 as json
  - returned the same length of blogs
  - a specific note is within the returned notes
  - there are defined "id" property'

- get a specific/single note by id

  - succeeds with a valid id
  - fails with status code 404 if note does not exist
  - fails with status code 400 if id is invalid

- post a specific/single note after dummy notes saved

  - successful with status code 201 as json
  - successful the same blog is returned
  - successful the post blog is saved in DB
  - successful with status code 201 as json if without specific data
  - successful the value of specific data is as default if without specific data
  - fails with status code 400 if specific data invalid

- delete of a note after dummy notes saved

  - successful with status code 204 if id is valid
  - successful delete in DB
  - fails with status code 404 if id is incorrect
  - fails with status code 400 if id is invalid

- put a note after dummy notes saved
  - successful with status code 200 as json
  - successful the same blog is returned
  - successful the put blog still in the DB
  - fails with status code 404 if id is incorrect
  - fails with status code 400 if id is invalid

</details>

### Sub-part C: [User administration](https://fullstackopen.com/en/part4/user_administration)

<details>
<summary>Links:</summary>
<li><a href="https://www.mongodb.com/docs/manual/reference/operator/aggregation/lookup/" title="Mongo DB: lookup (aggregation)">Mongo DB: lookup (aggregation)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function" title="Cryptographic hash function">Cryptographic hash function</a></li>
<li><a href="https://codahale.com/how-to-safely-store-a-password/" title="How To Safely Store A Password">How To Safely Store A Password</a></li>
<li><a href="https://github.com/kelektiv/node.bcrypt.js/#a-note-on-rounds" title="A Note on Rounds">A Note on Rounds</a></li>
<li><a href="https://en.wikipedia.org/wiki/Test-driven_development" title="Test-driven development">Test-driven development</a></li>
<li><a href="https://www.npmjs.com/package/mongoose-unique-validator" title="Mongoose: unique validator">Mongoose: unique validator</a></li>
<li><a href="https://mongoosejs.com/docs/populate.html" title="Mongoose: populate method">Mongoose: populate method</a></li>
<li><a href="https://www.mongodb.com/docs/manual/tutorial/project-fields-from-query-results/#return-the-specified-fields-and-the-id-field-only" title="Mongoose: populate method - conditions">Mongoose: populate method - conditions</a></li>
</details>

<details>
<summary>Ð¡ommands and fragments</summary>

Add user document schema to models

```javascript
const mongoose = require('mongoose')

const userSchema = new mongoose.Schema({
  username: String,
  name: String,
  passwordHash: String,
  notes: [
    {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'Note',
    },
  ],
})

userSchema.set('toJSON', {
  transform: (document, returnedObject) => {
    returnedObject.id = returnedObject._id.toString()
    delete returnedObject._id
    delete returnedObject.__v
    // the passwordHash should not be revealed
    delete returnedObject.passwordHash
  },
})

const User = mongoose.model('User', userSchema)

module.exports = User
```

Change schema of the note defined in the models/note.js file

```javascript
//...
const noteSchema = new mongoose.Schema({
  //...
  user: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }
  //...
```

#### bcrypt for password

install the bcrypt package for generating the password hashes

> npm install bcrypt

Create controller for users routs in file

> controllers/users.js

```javascript
const bcrypt = require('bcrypt')
const usersRouter = require('express').Router()
const User = require('../models/user')

usersRouter.get('/', async (request, response) => {
  const users = await User.find({})
  response.json(users)
})

usersRouter.post('/', async (request, response) => {
  const { username, name, password } = request.body

  const saltRounds = 10
  const passwordHash = await bcrypt.hash(password, saltRounds)

  const user = new User({
    username,
    name,
    passwordHash,
  })

  const savedUser = await user.save()

  response.status(201).json(savedUser)
})

module.exports = usersRouter
```

Add users rout in app.js

> app.js

```javascript
const usersRouter = require('./controllers/users')

// ...

app.use('/api/users', usersRouter)
```

#### mongoose unique validator

install the mongoose-unique-validator library

> npm install mongoose-unique-validator

Update user schema

> models/user.js

```javascript
const mongoose = require('mongoose')
const uniqueValidator = require('mongoose-unique-validator')

const userSchema = mongoose.Schema({
  username: {
    type: String,
    required: true,
    unique: true,
  },
  //...
})

userSchema.plugin(uniqueValidator)

//...
```

Update note controller to post note with user

> controllers/notes.js

```javascript
const User = require('../models/user')

//...

notesRouter.post('/', async (request, response) => {
  const body = request.body

  const user = await User.findById(body.userId)

  const note = new Note({
    content: body.content,
    important: body.important === undefined ? false : body.important,
    user: user.id,
  })

  const savedNote = await note.save()
  user.notes = user.notes.concat(savedNote._id)
  await user.save()

  response.json(savedNote)
})
```

Update user controller to get all users with full notes array (not only ids) with content only

> controllers/users.js

```javascript
usersRouter.get('/', async (request, response) => {
  const users = await User.find({}).populate('notes', {
    content: 1,
  })

  response.json(users)
})
```

</details>

### Sub-part D: [Token authentication](https://fullstackopen.com/en/part4/token_authentication)

<details>
<summary>Links</summary>
<li><a href="https://www.digitalocean.com/community/tutorials/the-ins-and-outs-of-token-based-authentication#how-token-based-works" title="Token-based authentication">Token-based authentication</a></li>
<li><a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2" title="Status code 401 unauthorized">Status code 401 unauthorized</a></li>
<li><a href="https://github.com/auth0/node-jsonwebtoken" title="node jsonwebtoken">An implementation of JSON Web Tokens.</a></li>
<li><a href="https://jwt.io/" title="JSON web tokens">JSON web tokens</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization" title="_">_</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization" title="Headers, Authorization">Headers, Authorization</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication#authentication_schemes" title="Headers, Authorization schemes">Headers, Authorization schemes</a></li>
<li><a href="https://www.npmjs.com/package/express-jwt" title="express-jwt">Express jwt (JSON Web Tokens)</a></li>
<li><a href="https://redis.io/" title="Redis">Redis</a></li>
<li><a href="https://en.wikipedia.org/wiki/HTTPS" title="HTTPS">Hypertext Transfer Protocol Secure (HTTPS)</a></li>
<li><a href="https://nodejs.org/api/https.html" title="Node HTTPS server">Node HTTPS server Node.js v20.3.0 documentation</a></li>
<li><a href="https://nodejs.org/docs/latest-v8.x/api/http.html" title="Node HTTPS server">Node HTTPS server Node.js v8.17.0 Documentation</a></li>
<li><a href="https://www.npmjs.com/package/bcryptjs" title="bcrypt.js">Optimized bcrypt in JavaScript with zero dependencies</a></li>
<li><a href="https://github.com/ladjs/supertest/issues/398" title="Set Authorization header to post request">Set Authorization header to post request</a></li>
</details>

<details>
<summary>Ð¡ommands and fragments</summary>

Install the jsonwebtoken library, which allows us to generate JSON web tokens.

> npm install jsonwebtoken

The code for login functionality goes to the file controllers/login.js.

> controllers/login.js

```javascript
const jwt = require('jsonwebtoken')
const bcrypt = require('bcrypt')
const loginRouter = require('express').Router()
const User = require('../models/user')

loginRouter.post('/', async (request, response) => {
  const { username, password } = request.body

  const user = await User.findOne({ username })
  const passwordCorrect =
    user === null ? false : await bcrypt.compare(password, user.passwordHash)

  if (!(user && passwordCorrect)) {
    return response.status(401).json({
      error: 'invalid username or password',
    })
  }

  const userForToken = {
    username: user.username,
    id: user._id,
  }

  const token = jwt.sign(userForToken, process.env.SECRET, {
    expiresIn: 60 * 60,
  })

  response.status(200).send({ token, username: user.username, name: user.name })
})

module.exports = loginRouter
```

Update app

> app.js

```javascript
const loginRouter = require('./controllers/login')

//...

app.use('/api/login', loginRouter)
```

Update note router

> controllers/notes.js

```javascript
const jwt = require('jsonwebtoken')

// ...

const getTokenFrom = (request) => {
  const authorization = request.get('authorization')
  if (authorization && authorization.startsWith('Bearer ')) {
    return authorization.replace('Bearer ', '')
  }
  return null
}

notesRouter.post('/', async (request, response) => {
  const body = request.body

  const decodedToken = jwt.verify(getTokenFrom(request), process.env.SECRET)
  if (!decodedToken.id) {
    return response.status(401).json({ error: 'token invalid' })
  }
  const user = await User.findById(decodedToken.id)

  const note = new Note({
    content: body.content,
    important: body.important === undefined ? false : body.important,
    user: user._id,
  })

  const savedNote = await note.save()
  user.notes = user.notes.concat(savedNote._id)
  await user.save()

  response.json(savedNote)
})
```

Update middleware

> middleware.js

```javascript
const errorHandler = (error, request, response, next) => {
  logger.error(error.message)

  if (error.name === 'CastError') {
    return response.status(400).send({ error: 'malformatted id' })
  } else if (error.name === 'ValidationError') {
    return response.status(400).json({ error: error.message })
  } else if (error.name === 'JsonWebTokenError') {
    return response.status(401).json({ error: 'invalid token' })
  } else if (error.name === 'TokenExpiredError') {
    return response.status(401).json({ error: 'token expired' })
  }

  next(error)
}
```

Some Windows users have had problems with bcrypt. If you run into problems, remove the library with command and install bcryptjs instead.

> npm uninstall bcrypt

We can create middlewares for extracting token and user

> utils/middleware.js

```js
const jwt = require('jsonwebtoken')

const config = require('./config')
const User = require('../models/user')

const tokenExtractor = (request, response, next) => {
  const authorization = request.get('authorization')

  const token =
    authorization && authorization.startsWith('Bearer ')
      ? authorization.replace('Bearer ', '')
      : null

  request.body.token = token

  next()
}

const userExtractor = async (request, response, next) => {
  const decodedToken = jwt.verify(request.body.token, config.SECRET)

  if (!decodedToken.id) {
    return response.status(401).json({ error: 'token invalid' })
  }

  const user = await User.findById(decodedToken.id)

  request.body.token = undefined
  request.body.user = user

  next()
}
```

middleware we can add in app, in router or in rout

```js
app.use(userExtractor)

app.use('/api/blogs', userExtractor, blogsRouter)

router.post('/', userExtractor, async (request, response) => {
  // ...
})
```

</details>

### Exercises:

#### 4.1-4.23: Blog list

To building a blog list application (backend), that allows users to save information about interesting blogs they have stumbled across on the internet. For each listed blog we will save the author, title, URL, and amount of upvotes from users of the application.
In the next exercises, the basics of user management will be implemented for the Bloglist application. Tests are provided.

Create an application according to the requirements described in [exercises 4.1-4.2](https://fullstackopen.com/en/part4/structure_of_backend_application_introduction_to_testing#exercises-4-1-4-2), [exercises 4.3-4.7](https://fullstackopen.com/en/part4/structure_of_backend_application_introduction_to_testing#exercises-4-3-4-7), [exercises 4.8-4.12](https://fullstackopen.com/en/part4/testing_the_backend#exercises-4-8-4-12) [exercises 4.13-4.14](https://fullstackopen.com/en/part4/testing_the_backend#exercises-4-13-4-14) [exercises 4.15-4.23](https://fullstackopen.com/en/part4/token_authentication#exercises-4-15-4-23)

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part4/bloglist)

## Part 5: [Testing React apps](https://fullstackopen.com/en/part5)

### Sub-part A: [Login in frontend](https://fullstackopen.com/en/part5/login_in_frontend)

<details>
<summary>Links:</summary>

<li><a href="https://legacy.reactjs.org/docs/conditional-rendering.html#inline-if-with-logical--operator" title="React trick">React: Inline If with Logical && Operator</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" title="Falsy">JavaScript: Falsy</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" title="conditional operator">JavaScript: Conditional (ternary) operator</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy" title="Truthy">JavaScript: Truthy</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage" title="Web: local storage">Web: local storage</a></li>
<li><a href="https://en.wikipedia.org/wiki/Key%E2%80%93value_database" title="Keyâvalue database">Keyâvalue database</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem" title="Web: local storage - setItem">Web: local storage - setItem</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem" title="Web: local storage - getItem">Web: local storage - getItem</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem" title="Web: local storage - removeItem">Web: local storage - removeItem</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Origin" title="Web: Origin">Web: Origin</a></li>
<li><a href="https://docs.w3cub.com/dom/domstring" title="DOMString">A DOMString is a sequence of 16-bit unsigned integers, typically interpreted as UTF-16 code units.</a></li>
<li><a href="https://developer.chrome.com/docs/devtools/" title="Chrome DevTools">Chrome DevTools</a></li>
<li><a href="https://firefox-source-docs.mozilla.org/devtools-user/storage_inspector/index.html" title="Storage Inspector">Storage Inspector</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-effect.html" title="React: Using the Effect Hook">React: Using the Effect Hook</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect" title="React: Using the Effect Hook - conditionally firing">React: Using the Effect Hook - conditionally firing</a></li>
<li><a href="https://owasp.org/www-community/attacks/xss/" title="Cross Site Scripting (XSS) attacks">Cross Site Scripting (XSS) attacks</a></li>
<li><a href="https://legacy.reactjs.org/docs/introducing-jsx.html#jsx-prevents-injection-attacks" title="React: JSX Prevents Injection Attacks">React: JSX Prevents Injection Attacks</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#restrict_access_to_cookies" title="httpOnly cookies">Using HTTP cookies</a></li>
<li><a href="https://academind.com/tutorials/localstorage-vs-cookies-xss/" title="localstorage vs cookies (xss)">Cookies are not any safer than the use of local storage</a></li>
<li><a href="https://cheatsheetseries.owasp.org/cheatsheets/DOM_based_XSS_Prevention_Cheat_Sheet.html" title="Minimize the risk of XSS attacks altogether">Minimize the risk of XSS attacks altogether</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

After clone the repo, install all dependencies before attempting to run the frontend.

> npm install

add the form and the

> App.js

```js
import loginService from './services/login'
//...
const App = () => {
  //...
  const [username, setUsername] = useState('')
  const [password, setPassword] = useState('')
  const [user, setUser] = useState(null)
  //...
  useEffect(() => {
    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')
    if (loggedUserJSON) {
      const user = JSON.parse(loggedUserJSON)
      setUser(user)
      noteService.setToken(user.token)
    }
  }, [])
  //...
  const handleLogin = (event) => {
    event.preventDefault()
    try {
      const user = await loginService.login({ username, password })
      window.localStorage.setItem('loggedNoteappUser', JSON.stringify(user))
      noteService.setToken(user.token)
      setUser(user)
      setUsername('')
      setPassword('')
    } catch (exception) {
      setErrorMessage('Wrong credentials')
      setTimeout(() => {
        setErrorMessage(null)
      }, 5000)
    }
  }

  return (
    //...

    <form onSubmit={handleLogin}>
      <div>
        username
        <input
          type='text'
          value={username}
          name='Username'
          onChange={({ target }) => setUsername(target.value)}
        />
      </div>
      <div>
        password
        <input
          type='password'
          value={password}
          name='Password'
          onChange={({ target }) => setPassword(target.value)}
        />
      </div>
      <button type='submit'>login</button>
    </form>
    // ...
  )
}
```

create servoce for wotjing with login

> services/login.js.

```js
import axios from 'axios'
const baseUrl = '/api/login'

const login = async (credentials) => {
  const response = await axios.post(baseUrl, credentials)
  return response.data
}

export default { login }
```

add functionality to work with roken in note service

> services/noteService.js

```js
//...
let token = null

const setToken = (newToken) => {
  token = `Bearer ${newToken}`
}
//...
const create = async (newObject) => {
  const config = {
    headers: { Authorization: token },
  }

  const response = await axios.post(baseUrl, newObject, config)
  return response.data
}
//...

// eslint-disable-next-line import/no-anonymous-default-export
export default { /* ... */ setToken }
```

We can change cod to use function for returning a component

```js
const App = () => {
  // ...

  const loginForm = () => (
    <form onSubmit={handleLogin}>
      <div>
        username
          <input
          type="text"
          value={username}
          name="Username"
          onChange={({ target }) => setUsername(target.value)}
        />
      </div>
      <div>
        password
          <input
          type="password"
          value={password}
          name="Password"
          onChange={({ target }) => setPassword(target.value)}
        />
      </div>
      <button type="submit">login</button>
    </form>
  )

  const noteForm = () => (
    <form onSubmit={addNote}>
      <input
        value={newNote}
        onChange={handleNoteChange}
      />
      <button type="submit">save</button>
    </form>
  )

  return (
    // ...
  )
}
```

and use conditions to render these components

```js
return (
  <div>
    {user === null && loginForm()}
    {user !== null && noteForm()}
    /* Or */
    {user === null ? loginForm() : noteForm()}
  </div>
)
```

Clone the application from GitHub with the command:

> git clone https://github.com/fullstack-hy2020/bloglist-frontendcopy

remove the git configuration of the cloned application

> cd bloglist-frontend // go to cloned repository

> rm -rf .gitcopy

The application is started the usual way, but you have to install its dependencies first:

> npm install

> npm start

</details>

### Sub-part B: [props.children and proptypes](https://fullstackopen.com/en/part5/props_children_and_proptypes)

<details>
<summary>Links:</summary>

<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display" title="CSS: display">CSS: display</a></li>
<li><a href="https://legacy.reactjs.org/docs/glossary.html#propschildren" title="React: props.children">React: props.children</a></li>
<li><a href="https://legacy.reactjs.org/docs/lifting-state-up.html" title="React: Lifting State Up">React: Lifting State Up</a></li>
<li><a href="https://react.dev/learn/referencing-values-with-refs" title="React: Referencing Values with Refs">React: Referencing Values with Refs</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-reference.html#useref" title="React: useRef hook">React: useRef hook</a></li>
<li><a href="https://legacy.reactjs.org/docs/react-api.html#reactforwardref" title="React: function forwardRef">React: function forwardRef</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-reference.html#useimperativehandle" title="React: function useImperativeHandle">React: function useImperativeHandle</a></li>
<li><a href="https://legacy.reactjs.org/docs/refs-and-the-dom.html" title="React: Refs and the DOM">React: Refs and the DOM</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm" title="Web: confirm">Web: confirm</a></li>
<li><a href="https://github.com/facebook/prop-types" title="React: prop-types">React: prop-types</a></li>
<li><a href="https://www.npmjs.com/package/eslint-plugin-jest" title="eslint-plugin-jest">ESlint</a></li>
<li><a href="https://github.com/microsoft/vscode-eslint/issues/880#issuecomment-578052807" title="Visual Studio Code together with ESLint plugin">Visual Studio Code together with ESLint plugin</a></li>
<li><a href="https://eslint.org/docs/latest/use/configure/#ignoring-files-and-directories" title="Configure ESLint">Configure ESLint</a></li>
<li><a href="https://www.npmjs.com/package/eslint-config-react-app" title="ESLint: Config React app">ESLint: Config React app</a></li>
<li><a href="https://create-react-app.dev/docs/setting-up-your-editor/#extending-or-replacing-the-default-eslint-config" title="Extending or replacing the default ESLint config">Extending or replacing the default ESLint config</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

Create a separated NoteForm component to create Note with all functionality inside instad of LoginForm

> NoteForm.js

```js
import { useState } from 'react'

const NoteForm = ({ createNote }) => {
  const [newNote, setNewNote] = useState('')

  const addNote = (event) => {
    event.preventDefault()
    createNote({ content: newNote, important: true })
    setNewNote('')
  }

  return (
    <div>
      <h2>Create a new note</h2>

      <form onSubmit={addNote}>
        <input
          value={newNote}
          onChange={(event) => setNewNote(event.target.value)}
        />
        <button type='submit'>save</button>
      </form>
    </div>
  )
}

export default NoteForm
```

Create a togglable component to wrapped other components to hide or unhide them.

> Togglable.js

```js
import { useState, forwardRef, useImperativeHandle } from 'react'

const Togglable = forwardRef((props, refs) => {
  const [visible, setVisible] = useState(false)

  const hideWhenVisible = { display: visible ? 'none' : '' }
  const showWhenVisible = { display: visible ? '' : 'none' }

  const toggleVisibility = () => {
    setVisible(!visible)
  }

  useImperativeHandle(refs, () => {
    return { toggleVisibility }
  })

  return (
    <div>
      <div style={hideWhenVisible}>
        <button onClick={toggleVisibility}>{props.buttonLabel}</button>
      </div>
      <div style={showWhenVisible}>
        {props.children}
        <button onClick={toggleVisibility}>cancel</button>
      </div>
    </div>
  )
})

Togglable.displayName = 'Togglable'

export default Togglable
```

Add NoteForm in App with changing logic in creating a note function and use Togglable component.

> App.js

```js
import React, { useState, useEffect, useRef } from 'react'
//...
import Togglable from './components/Togglable'
import LoginForm from './components/LoginForm'
import NoteForm from './components/NoteForm'

const App = () => {
  //...
  const noteFormRef = useRef()

  //...

  const addNote = (noteObject) => {
    noteFormRef.current.toggleVisibility()
    noteService.create(noteObject).then((returnedNote) => {
      setNotes(notes.concat(returnedNote))
    })
  }
  //...

  return (
    <div>
      {/* ...  */}
      <Togglable buttonLabel='new note' ref={noteFormRef}>
        <NoteForm createNote={addNote} />
      </Togglable>
      {/* ...  */}
      <Togglable buttonLabel='log in'>
        <LoginForm
          username={username}
          password={password}
          handleUsernameChange={({ target }) => setUsername(target.value)}
          handlePasswordChange={({ target }) => setPassword(target.value)}
          handleSubmit={handleLogin}
        />
      </Togglable>
      {/* ...  */}
    </div>
  )
}
```

Runtime type checking for React props and similar objects.

> npm install --save prop-types

We can define the buttonLabel prop as a mandatory or required string-type prop as shown below:

```js
import PropTypes from 'prop-types'

const Togglable = React.forwardRef((props, ref) => {
  // ..
})

Togglable.propTypes = {
  buttonLabel: PropTypes.string.isRequired,
}
```

#### The ESlint code style tool to the Frontend.

Install

> npm install --save-dev eslint-plugin-jest

Create config for ESlint.

NOT RUN "eslint --init" It will install the latest version of ESlint that is not compatible with the configuration file created by create-react-app

> .eslintrc.js

```js
/* eslint-env node */
module.exports = {
  'env': {
    'browser': true,
    'es6': true,
    'jest/globals': true,
  },
  'extends': ['eslint:recommended', 'plugin:react/recommended'],
  'parserOptions': {
    'ecmaFeatures': {
      'jsx': true,
    },
    'ecmaVersion': 2018,
    'sourceType': 'module',
  },
  'plugins': ['react', 'jest'],
  'rules': {
    'indent': ['error', 2],
    'linebreak-style': ['error', 'unix'], //windows
    'quotes': ['error', 'single'],
    'semi': ['error', 'never'],
    'eqeqeq': 'error',
    'no-trailing-spaces': 'error',
    'object-curly-spacing': ['error', 'always'],
    'arrow-spacing': ['error', { 'before': true, 'after': true }],
    'no-console': 0,
    'react/prop-types': 0,
    'react/react-in-jsx-scope': 'off',
  },
  'settings': {
    'react': {
      'version': 'detect',
    },
  },
}
```

Create ELlint ignore file

> .eslintignore

```js
.eslintrc.js
build
node_modules
```

Update scrypts in package.json to run ESlint

> package.json

```js
{
  // ...
  {
    "scripts": {
    //...
    "eslint": "eslint ."
    //, "eslint:fix": "eslint . --fix"  //for fix windows string ending ls and crls
  },
  // ...
}
```

Add line in VSCode settings to use Visual Studio Code together with ESLint plugin.

> .vscode/settings.json

```js
"eslint.workingDirectories": [{ "mode": "auto" }]
```

</details>

### Sub-part C: [Testing React apps](https://fullstackopen.com/en/part5/testing_react_apps)

<details>
<summary>Links:</summary>

<li><a href="https://jestjs.io/" title="Jest testing library">Jest testing library</a></li>
<li><a href="https://github.com/testing-library/react-testing-library" title="React Testing Library">React Testing Library</a></li>
<li><a href="https://legacy.reactjs.org/docs/dom-elements.html#classname" title="React: className">React: className</a></li>
<li><a href="https://testing-library.com/docs/react-testing-library/api/#render" title="Testing Library: render">Testing Library: render</a></li>
<li><a href="https://testing-library.com/docs/queries/about/#screen" title="Testing Library: screen">Testing Library: screen</a></li>
<li><a href="https://testing-library.com/docs/queries/bytext/" title="Testing Library: ByText">Testing Library: ByText</a></li>
<li><a href="https://facebook.github.io/watchman/" title="Watchman">Watchman</a></li>
<li><a href="https://medium.com/@jeff_long/organizing-tests-in-jest-17fc431ff850" title="Organizing Tests in Jest">Organizing Tests in Jest</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" title="Web: CSS Selectors">Web: CSS Selectors</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector" title="Web: querySelector">Web: querySelector</a></li>
<li><a href="https://testing-library.com/docs/react-testing-library/api/#container-1" title="Testing Library: container">Testing Library: container</a></li>
<li><a href="https://testing-library.com/docs/queries/bytestid/" title="Testing Library: ByTestId">Testing Library: ByTestId</a></li>
<li><a href="https://testing-library.com/docs/queries/about/#screendebug" title="Testing Library: screen.debug">Testing Library: screen.debug</a></li>
<li><a href="https://testing-library.com/docs/user-event/intro/" title="Testing Library: user-event">Testing Library: user-event</a></li>
<li><a href="https://jestjs.io/docs/mock-functions" title="jestjs: mock-functions">jestjs: mock-functions</a></li>
<li><a href="https://testing-library.com/docs/user-event/setup/" title="Testing Library: user-event - setup">Testing Library: user-event - setup</a></li>
<li><a href="https://testing-library.com/docs/user-event/convenience/#click" title="Testing Library: user-event - click">Testing Library: user-event - click</a></li>
<li><a href="https://en.wikipedia.org/wiki/Mock_object" title="Mock object">Mock object</a></li>
<li><a href="https://www.npmjs.com/package/@testing-library/jest-dom#tohavestyle" title="jest toHaveStyle">jest toHaveStyle</a></li>
<li><a href="https://testing-library.com/docs/queries/byrole/" title="Testing Library: ByRole">Testing Library: ByRole</a></li>
<li><a href="https://testing-library.com/docs/user-event/utility/#type" title="Testing Library: user-event - type">Testing Library: user-event - type</a></li>
<li><a href="https://testing-library.com/docs/queries/byplaceholdertext/" title="Testing Library: ByPlaceholderText">Testing Library: ByPlaceholderText</a></li>
<li><a href="https://github.com/facebook/create-react-app/blob/ed5c48c81b2139b4414810e1efe917e04c96ee8d/packages/react-scripts/template/README.md#coverage-reporting" title="Test Coverage Reporting">Test Coverage Reporting</a></li>
<li><a href="https://jestjs.io/docs/snapshot-testing" title="Jest: Snapshot Testing">Jest: Snapshot Testing</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

Install the testing library that will help us render components for testing purposes and install jest-dom which provides some nice Jest-related helper methods with the command:

> npm install --save-dev @testing-library/react @testing-library/jest-dom

Create a test for Note in the sqme folder as the next code:

> src/components/Note.js

```js
const Note = ({ note, toggleImportance }) => {
  const label = note.important ? 'make not important' : 'make important'

  return (
    <li className='note'>
      {note.content}
      <button onClick={toggleImportance}>{label}</button>
    </li>
  )
}

export default Note
```

> src/components/Note.test.js

```js
import React from 'react'
import '@testing-library/jest-dom/extend-expect'
import { render, screen } from '@testing-library/react'
import Note from './Note'

test('renders content', () => {
  const note = {
    content: 'Component testing is done with react-testing-library',
    important: true,
  }

  render(<Note note={note} />)

  screen.debug()

  const element = screen.getByText(
    'Component testing is done with react-testing-library'
  )

  screen.debug(element)

  expect(element).toBeDefined()
})
```

There are console.log of debuging

> screen.debug()

```html
<body>
  <div>
    <li class="note">
      Component testing is done with react-testing-library
      <button>make not important</button>
    </li>
  </div>
</body>
```

> screen.debug(element)

```html
<li class="note">
  Component testing is done with react-testing-library
  <button>make not important</button>
</li>
```

To run test with automatic retesting

> npm test

If you want to run tests "normally", you can do so with the command:

> CI=true npm testcopy

For Windows (PowerShell) users

> $env:CI=$true; npm test

to add it in scrypt it needs to install cross-env

> npm install cross-env

and add command to the scrypt in package.json

> package.json

```js
{
  "scripts": {
    //..
    "test": "react-scripts test",
    "test:single": "cross-env CI=true npm test",
    //...
  },
}
```

install a library user-event that makes simulating user input

> npm install --save-dev @testing-library/user-event

We can use it in test file as:

> src/components/Note.test.js

```js
import React from 'react'
import '@testing-library/jest-dom/extend-expect'
import { render, screen } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import Note from './Note'

// ...

test('clicking the button calls event handler once', async () => {
  const note = {
    content: 'Component testing is done with react-testing-library',
    important: true,
  }

  const mockHandler = jest.fn()

  render(<Note note={note} toggleImportance={mockHandler} />)

  const user = userEvent.setup()
  const button = screen.getByText('make not important')
  await user.click(button)

  expect(mockHandler.mock.calls).toHaveLength(1)
})
```

> src/components/Togglable.js

```js
const Togglable = forwardRef((props, ref) => {
  // ...
  return (
   //...
      <div style={showWhenVisible} className="togglableContent">
   //...
  )
})
```

> src/components/Togglable.test.js

```js
import React from 'react'
import '@testing-library/jest-dom/extend-expect'
import { render, screen } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import Togglable from './Togglable'

describe('<Togglable />', () => {
  let container

  beforeEach(() => {
    container = render(
      <Togglable buttonLabel='show...'>
        <div className='testDiv'>togglable content</div>
      </Togglable>
    ).container
  })

  test('renders its children', async () => {
    await screen.findAllByText('togglable content')
  })

  test('at start the children are not displayed', () => {
    const div = container.querySelector('.togglableContent')
    expect(div).toHaveStyle('display: none')
  })

  test('after clicking the button, children are displayed', async () => {
    const user = userEvent.setup()
    const button = screen.getByText('show...')
    await user.click(button)

    const div = container.querySelector('.togglableContent')
    expect(div).not.toHaveStyle('display: none')
  })
})
```

Testing forms

> src/components/NoteForm.js

```js
import { useState } from 'react'

const NoteForm = ({ createNote } /* { onSubmit, handleChange, value } */) => {
  //...

  return (
    <div className='formDiv'>
      <input
        value={newNote}
        onChange={handleChange}
        id='note-input'
        placeholder='write note content here'
      />
      {/* ... */}
    </div>
  )
}

export default NoteForm
```

> src/components/NoteForm.js

```js
import React from 'react'
import { render, screen } from '@testing-library/react'
import '@testing-library/jest-dom/extend-expect'
import NoteForm from './NoteForm'
import userEvent from '@testing-library/user-event'

test('<NoteForm /> updates parent state and calls onSubmit', async () => {
  const createNote = jest.fn()
  const user = userEvent.setup()

  render(<NoteForm createNote={createNote} />)

  //const inputs = screen.getAllByRole('textbox') //if input teg with textbox type more then 1
  // or by Placeholder
  // const input = screen.getByPlaceholderText('write note content here')
  // or by Selector
  // const { container } = render(<NoteForm createNote={createNote} />)
  // const input = container.querySelector('#note-input')

  const input = screen.getByRole('textbox')
  const sendButton = screen.getByText('save')

  await user.type(input, 'testing a form...')
  // await user.type(inputs[0], 'testing a form...') //if input teg with textbox type more then 1

  await user.click(sendButton)

  expect(createNote.mock.calls).toHaveLength(1)
  expect(createNote.mock.calls[0][0].content).toBe('testing a form...')
})
```

#### coverage

> $env:CI=$true; npm test -- --coverage

and add command to the scrypt in package.json

> package.json

```js
{
  "scripts": {
    //..
    "test": "react-scripts test",
    "test:single": "cross-env CI=true npm test",
    "test:coverage": "cross-env CI=true npm test -- --coverage",
    //...
  },
}
```

</details>

### Sub-part D: [End to end testing](https://fullstackopen.com/en/part5/end_to_end_testing)

<details>
<summary>Links:</summary>

<li><a href="https://en.wikipedia.org/wiki/System_testing" title="System testing">System testing</a></li>
<li><a href="https://www.selenium.dev/" title="Selenium">Selenium</a></li>
<li><a href="https://en.wikipedia.org/wiki/Headless_browser" title="Headless browser">Headless browser</a></li>
<li><a href="https://en.wikipedia.org/wiki/Regression_testing" title="Regression testing">Regression testing</a></li>
<li><a href="https://hackernoon.com/flaky-tests-a-war-that-never-ends-9aa32fdef359" title="Flaky Tests">Flaky Tests</a></li>
<li><a href="https://www.cypress.io/" title="E2E library Cypress">E2E library Cypress</a></li>
<li><a href="https://docs.cypress.io/guides/getting-started/installing-cypress#Windows-Subsystem-for-Linux" title="Installing Cypress">Installing Cypress</a></li>
<li><a href="https://nickymeuleman.netlify.app/blog/gui-on-wsl2-cypress" title="Using Graphical User Interfaces like Cypress' in WSL2">Using Graphical User Interfaces like Cypress' in WSL2</a></li>
<li><a href="https://mochajs.org/" title="The feature-rich JavaScript test framework 'Mocha'">The feature-rich JavaScript test framework "Mocha"</a></li>
<li><a href="https://docs.cypress.io/api/commands/visit" title="Cypress: visit command">Cypress: visit command</a></li>
<li><a href="https://docs.cypress.io/api/commands/contains" title="Cypress: contains command">Cypress: contains command</a></li>
<li><a href="https://mochajs.org/#arrow-functions" title="Mocha arrow-functions">Mocha arrow-functions</a></li>
<li><a href="https://github.com/cypress-io/eslint-plugin-cypress" title="An ESLint plugin for your Cypress tests">An ESLint plugin for your Cypress tests</a></li>
<li><a href="https://docs.cypress.io/api/commands/click#Syntax" title="Cypress: click command">Cypress: click command</a></li>
<li><a href="https://docs.cypress.io/api/commands/get#Syntax" title="Cypress: get command">Cypress: get command</a></li>
<li><a href="https://docs.cypress.io/api/commands/type#Syntax" title="Cypress: type command">Cypress: type command</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/ID_selectors" title="CSS: ID selectors">CSS: ID selectors</a></li>
<li><a href="https://docs.cypress.io/api/commands/request" title="Cypress: request command">Cypress: request command</a></li>
<li><a href="https://docs.cypress.io/api/commands/should" title="Cypress: should command">Cypress: should command</a></li>
<li><a href="https://docs.cypress.io/guides/references/assertions#Common-Assertions" title="Cypress: Common Assertions">Cypress: Common Assertions</a></li>
<li><a href="https://rgbcolorcode.com/color/red" title="Color RGB format">Color RGB format</a></li>
<li><a href="https://docs.cypress.io/api/commands/and" title="Cypress: and command">Cypress: and command</a></li>
<li><a href="https://github.com/cypress-io/cypress/issues/9349" title="Cypress: check style in Firefox">Cypress: check style in Firefox</a></li>
<li><a href="https://docs.cypress.io/guides/end-to-end-testing/testing-your-app#Fully-test-the-login-flow-but-only-once" title="Cypress: advice for testing Your App">Cypress: advice for testing Your App</a></li>
<li><a href="https://docs.cypress.io/api/cypress-api/custom-commands" title="Cypress: custom command">Cypress: custom command</a></li>
<li><a href="https://docs.cypress.io/guides/references/configuration" title="Cypress: configuration">Cypress: configuration</a></li>
<li><a href="https://docs.cypress.io/guides/guides/environment-variables" title="Cypress: Environment Variables">Cypress: Environment Variables</a></li>
<li><a href="https://docs.cypress.io/guides/core-concepts/cypress-app" title="Cypress App">Cypress App</a></li>
<li><a href="https://docs.cypress.io/api/commands/parent" title="Cypress: parent command">Cypress: parent command</a></li>
<li><a href="https://docs.cypress.io/api/commands/find#Syntax" title="Cypress: find command">Cypress: find command</a></li>
<li><a href="https://docs.cypress.io/api/commands/as" title="Cypress: as command">Cypress: as command</a></li>
<li><a href="https://docs.cypress.io/api/commands/then" title="Cypress: then command">Cypress: then command</a></li>
<li><a href="https://docs.cypress.io/api/commands/debug" title="Cypress: debug command">Cypress: debug command</a></li>
<li><a href="https://docs.cypress.io/guides/guides/command-line" title="Cypress: command line">Cypress: command line</a></li>
<li><a href="https://docs.cypress.io/guides/guides/screenshots-and-videos#Videos" title="Cypress: Videos">Cypress: Videos</a></li>
<li><a href="https://docs.cypress.io/guides/overview/why-cypress#In-a-nutshell" title="Cypress: In-a-nutshell">Cypress: In-a-nutshell</a></li>
<li><a href="https://docs.cypress.io/guides/core-concepts/introduction-to-cypress#Cypress-Can-Be-Simple-Sometimes" title="Cypress Can Be Simple (Sometimes)">Cypress Can Be Simple (Sometimes)</a></li>
<li><a href="https://docs.cypress.io/api/commands/eq#Syntax" title="Cypress: eq command">Cypress: eq command</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

#### Back end

Add an npm script to the backend which starts it in test mode.

> package.json

```js
{
  // ...
  "scripts": {
    // ...
    "start:test": "cross-env NODE_ENV=test node index.js"
  },
  // ...
}
```

Add a new controller for testing app. This will clean test DB.

> controllers/testing.js

```js
const testingRouter = require('express').Router()
const Note = require('../models/note')
const User = require('../models/user')

testingRouter.post('/reset', async (request, response) => {
  await Note.deleteMany({})
  await User.deleteMany({})

  response.status(204).end()
})

module.exports = testingRouter
```

Add the controller to the app for routing

> app.js

```js
// ...
app.use('/api/notes', notesRouter)

if (process.env.NODE_ENV === 'test') {
  const testingRouter = require('./controllers/testing')
  app.use('/api/testing', testingRouter)
}

app.use(middleware.unknownEndpoint)
// ...
```

#### Front end

installing Cypress E2E library

> npm install --save-dev cypress

Add to scripts "cypress open" to run in browser "cypress run" to tun in terminal

> package.json

```js
{
  // ...
  "scripts": {
    // ...
    "cypress:open": "cypress open",
    "test:e2e": "cypress run"
  },
  // ...
}
```

Install an ESLint plugin for your Cypress tests

> npm install eslint-plugin-cypress --save-dev

and changing the configuration in .eslintrc.js like so:

> .eslintrc.js

```js
module.exports = {
  'env': {
    'browser': true,
    'es6': true,
    'jest/globals': true,
    'cypress/globals': true,
  },
  'extends': [
    // ...
  ],
  'parserOptions': {
    // ...
  },
  'plugins': ['react', 'jest', 'cypress'],
  'rules': {
    // ...
  },
}
```

Create/update confige for cypress

> cypress.config.js

```js
const { defineConfig } = require('cypress')

module.exports = defineConfig({
  e2e: {
    setupNodeEvents(on, config) {},
    baseUrl: 'http://localhost:3000',
  },
  env: {
    BACKEND: 'http://localhost:3001/api',
  },
  'video': false,
})
```

Create custom commands to post data in database

> cypress/support/commands.js

```js
Cypress.Commands.add('login', ({ username, password }) => {
  cy.request('POST', `${Cypress.env('BACKEND')}/login`, {
    username,
    password,
  }).then(({ body }) => {
    localStorage.setItem('loggedNoteappUser', JSON.stringify(body))

    cy.visit('')
  })
})

Cypress.Commands.add('createNote', ({ content, important }) => {
  cy.request({
    url: `${Cypress.env('BACKEND')}/notes`,
    method: 'POST',
    body: { content, important },
    headers: {
      'Authorization': `Bearer ${
        JSON.parse(localStorage.getItem('loggedNoteappUser')).token
      }`,
    },
  })

  cy.visit('')
})
```

Update components with id css selectors (LoginForm as an example)

> src/components/LoginForm.js

```js
//...
const LoginForm = ({ ... }) => {
  return (
    <div>
      <h2>Login</h2>
      <form onSubmit={handleSubmit}>
        <div>
          username
          <input
            id='username'
            value={username}
            onChange={handleUsernameChange}
          />
        </div>
        <div>
          password
          <input
            id='password'
            type="password"
            value={password}
            onChange={handlePasswordChange}
          />
        </div>
        <button id="login-button" type="submit">
          login
        </button>
      </form>
    </div>
  )
}
```

Create file with e2e tests for applicaton

> cypress/e2e/note_app.cy.js

```js
describe('Note app', function () {
  beforeEach(function () {
    cy.request('POST', `${Cypress.env('BACKEND')}/testing/reset`)
    const user = {
      name: 'Matti Luukkainen',
      username: 'mluukkai',
      password: 'salainen',
    }
    cy.request('POST', `${Cypress.env('BACKEND')}/users`, user)
    cy.visit('')
  })

  it('front page can be opened', function () {
    cy.contains('Notes')
    cy.contains(
      'Note app, Department of Computer Science, University of Helsinki 2023'
    )
  })

  //it.only()
  it('user can login', function () {
    cy.contains('log in').click()
    cy.get('#username').type('mluukkai')
    cy.get('#password').type('salainen')
    cy.get('#login-button').click()

    cy.contains('Matti Luukkainen logged in')
  })

  it('login fails with wrong password', function () {
    cy.contains('log in').click()
    cy.get('#username').type('mluukkai')
    cy.get('#password').type('wrong')
    cy.get('#login-button').click()

    cy.get('.error')
      .should('contain', 'Wrong credentials')
      .and('have.css', 'color', 'rgb(255, 0, 0)')
      .and('have.css', 'border-style', 'solid')

    cy.contains('Matti Luukkainen logged in').should('not.exist')
  })

  describe('when logged in', function () {
    beforeEach(function () {
      cy.login({ username: 'mluukkai', password: 'salainen' })
    })

    it('a new note can be created', function () {
      cy.contains('new note').click()
      cy.get('input').type('a note created by cypress')
      cy.contains('save').click()
      cy.contains('a note created by cypress')
    })

    describe('and several notes exist', function () {
      beforeEach(function () {
        cy.createNote({ content: 'first note', important: false })
        cy.createNote({ content: 'second note', important: false })
        cy.createNote({ content: 'third note', important: false })
      })

      it('one of those can be made important', function () {
        cy.contains('second note').parent().find('button').as('theButton')
        cy.get('@theButton').click()
        cy.get('@theButton').should('contain', 'make not important')
      })

      it('then example', function () {
        cy.get('button').then((buttons) => {
          console.log('number of buttons', buttons.length)
          cy.wrap(buttons[0]).click()
        })
      })
    })
  })
})
```

</details>

### Exercises:

#### 5.1-5.23: Blog list application

To building a blog list application (frontend, with completed backend), that allows users to save information about interesting blogs they have stumbled across on the internet. For each listed blog we will save the author, title, URL, and amount of upvotes from users of the application.

Create an application according to the requirements described in [exercises 5.1-5.4](https://fullstackopen.com/en/part5/login_in_frontend#exercises-5-1-5-4), [exercises 5.5-5.11](https://fullstackopen.com/en/part5/props_children_and_proptypes#exercises-5-5-5-11), [exercise 5.12](https://fullstackopen.com/en/part5/props_children_and_proptypes#exercise-5-12), [exercises 5.13-5.16](https://fullstackopen.com/en/part5/testing_react_apps#exercises-5-13-5-16), [exercises 5.17-5.23](https://fullstackopen.com/en/part5/end_to_end_testing#exercises-5-17-5-23)

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part5/bloglist)

## Part 6: [Advanced state management](https://fullstackopen.com/en/part6)

### Sub-part A: [Flux-architecture and Redux](https://fullstackopen.com/en/part6/flux_architecture_and_redux)

<details>
<summary>Links:</summary>

<li><a href="https://legacy.reactjs.org/docs/lifting-state-up.html" title="React: Lifting State Up">React: Lifting State Up</a></li>
<li><a href="https://redux.js.org/" title="Redux - library">Redux - library</a></li>
<li><a href="https://redux.js.org/tutorials/fundamentals/part-4-store" title="Redux: store">Redux: store</a></li>
<li><a href="https://redux.js.org/tutorials/fundamentals/part-2-concepts-data-flow" title="Redux: action">Redux: concepts data flow</a></li>
<li><a href="https://redux.js.org/tutorials/fundamentals/part-3-state-actions-reducers" title="Redux: state, actions, reducers">Redux: state, actions, reducers</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch" title="JavaScript: switch">JavaScript: switch</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters" title="JavaScript: function">JavaScript: function - default parameters</a></li>
<li><a href="https://redux.js.org/api/store#dispatchaction" title="Redux: dispatchaction">Redux: dispatchaction</a></li>
<li><a href="https://redux.js.org/api/store#getstate" title="Redux: getstate">Redux: getstate</a></li>
<li><a href="https://redux.js.org/api/store#subscribelistener" title="Redux: subscribe (listener)">Redux: subscribe (listener)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" title="JavaScript: Array - push">JavaScript: Array - push</a></li>
<li><a href="https://redux.js.org/tutorials/essentials/part-1-overview-concepts#reducers" title="Redux: reducers">Redux: reducers</a></li>
<li><a href="https://en.wikipedia.org/wiki/Pure_function" title="Pure function">Pure function</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" title="JavaScript: Array - concat">JavaScript: Array - concat</a></li>
<li><a href="https://en.wikipedia.org/wiki/Immutable_object" title="Immutable object">Immutable object</a></li>
<li><a href="https://www.npmjs.com/package/deep-freeze" title="Deep freeze library">Deep freeze library</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" title="JavaScript: Spread syntax">JavaScript: Spread syntax</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" title="JavaScript: Destructuring assignment">JavaScript: Destructuring assignment</a></li>
<li><a href="https://legacy.reactjs.org/docs/uncontrolled-components.html" title="React: Uncontrolled Components">React: Uncontrolled Components</a></li>
<li><a href="https://goshacmd.com/controlled-vs-uncontrolled-inputs-react/" title="React: controlled vs uncontrolled inputs">React: controlled vs uncontrolled inputs</a></li>
<li><a href="https://redux.js.org/tutorials/fundamentals/part-6-async-logic#synchronous-action-creators" title="Redux: Action creators">Redux: Action creators</a></li>
<li><a href="https://react-redux.js.org/api/hooks" title="React-Redux: hook">React-redux: hook</a></li>
<li><a href="https://react-redux.js.org/" title="The react-redux library">The react-redux library</a></li>
<li><a href="https://react-redux.js.org/api/provider" title="React-Redux: Provider">React-Redux: Provider</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export" title="JavaScript: multiple export commands">JavaScript: multiple export commands</a></li>
<li><a href="https://react-redux.js.org/api/hooks#usedispatch" title="React-Redux: useDispatch">React-Redux: useDispatch</a></li>
<li><a href="https://react-redux.js.org/api/hooks#useselector" title="React-Redux: useSelector">React-Redux: useSelector</a></li>
<li><a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0" title="Presentational and Container Components">Presentational and Container Components</a></li>
<li><a href="https://read.reduxbook.com/markdown/part1/04-action-creators.html" title="Redux: Action Creaters">Redux: Action Creaters</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

#### redux

install redux

> npm install redux

Create reducer for note

> src/reducers/noteReducer.js

```js
const noteReducer = (state = [], action) => {
  switch (action.type) {
    case 'NEW_NOTE':
      return [...state, action.payload]
    case 'TOGGLE_IMPORTANCE': {
      const id = action.payload.id
      const noteToChange = state.find((n) => n.id === id)
      const changedNote = {
        ...noteToChange,
        important: !noteToChange.important,
      }
      return state.map((note) => (note.id !== id ? note : changedNote))
    }
    default:
      return state
  }
}

const generateId = () => Number((Math.random() * 1000000).toFixed(0))

export const createNote = (content) => {
  return {
    type: 'NEW_NOTE',
    payload: {
      content,
      important: false,
      id: generateId(),
    },
  }
}

export const toggleImportanceOf = (id) => {
  return {
    type: 'TOGGLE_IMPORTANCE',
    payload: { id },
  }
}

export default noteReducer
```

install deep-freeze for testing state is unmutable

> npm install --save-dev deep-freeze

create test for reduser

> src/reducers/noteReducer.test.js

```js
import noteReducer from './noteReducer'
import deepFreeze from 'deep-freeze'

describe('noteReducer', () => {
  test('returns new state with action NEW_NOTE', () => {
    const state = []
    const action = {
      type: 'NEW_NOTE',
      payload: {
        content: 'the app state is in redux store',
        important: true,
        id: 1,
      },
    }

    deepFreeze(state)
    const newState = noteReducer(state, action)

    expect(newState).toHaveLength(1)
    expect(newState).toContainEqual(action.payload)
  })

  test('returns new state with action TOGGLE_IMPORTANCE', () => {
    const state = [
      {
        content: 'the app state is in redux store',
        important: true,
        id: 1,
      },
      {
        content: 'state changes are made with actions',
        important: false,
        id: 2,
      },
    ]

    const action = {
      type: 'TOGGLE_IMPORTANCE',
      payload: {
        id: 2,
      },
    }

    deepFreeze(state)
    const newState = noteReducer(state, action)

    expect(newState).toHaveLength(2)

    expect(newState).toContainEqual(state[0])

    expect(newState).toContainEqual({
      content: 'state changes are made with actions',
      important: true,
      id: 2,
    })
  })
})
```

#### react-redux

install react-redux

> npm install react-redux

update index.js and create components with using react-redux

> src/index.js

```js
import React from 'react'
import ReactDOM from 'react-dom/client'
import { createStore } from 'redux'
import { Provider } from 'react-redux'

import App from './App'
import noteReducer from './reducers/noteReducer'

const store = createStore(noteReducer)

ReactDOM.createRoot(document.getElementById('root')).render(
  <Provider store={store}>
    <App />
  </Provider>
)
```

> src/App.js

```js
import NewNote from './components/NewNote'
import Notes from './components/Notes'

const App = () => {
  return (
    <div>
      <NewNote />
      <Notes />
    </div>
  )
}

export default App
```

> src/Notes.js

```js
import { useDispatch, useSelector } from 'react-redux'

import { toggleImportanceOf } from '../reducers/noteReducer'

const Note = ({ note, handleClick }) => {
  return (
    <li onClick={handleClick}>
      {note.content}
      <strong> {note.important ? 'important' : ''}</strong>
    </li>
  )
}

const Notes = () => {
  const dispatch = useDispatch()
  const notes = useSelector((state) => state)

  return (
    <ul>
      {notes.map((note) => (
        <Note
          key={note.id}
          note={note}
          handleClick={() => dispatch(toggleImportanceOf(note.id))}
        />
      ))}
    </ul>
  )
}

export default Notes
```

> src/NewNote.js

```js
import { useDispatch } from 'react-redux'

import { createNote } from '../reducers/noteReducer'

const NewNote = () => {
  const dispatch = useDispatch()

  const addNote = (event) => {
    event.preventDefault()
    const content = event.target.note.value
    event.target.note.value = ''

    dispatch(createNote(content))
  }

  return (
    <form onSubmit={addNote}>
      <input name='note' />
      <button type='submit'>add</button>
    </form>
  )
}

export default NewNote
```

</details>

### Sub-part B: [Many reducers](https://fullstackopen.com/en/part6/many_reducers)

<details>
<summary>Links:</summary>

<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio" title="HTML: input-radio">HTML: input-radio</a></li>
<li><a href="https://redux.js.org/api/combinereducers" title="Redux: combineReducers">Redux: combineReducers</a></li>
<li><a href="https://redux-toolkit.js.org/api/configureStore" title="Redux-toolkit: configureStore">Redux-toolkit: configureStore</a></li>
<li><a href="https://redux-toolkit.js.org/api/createSlice" title="Redux-toolkit: createSlice">Redux-toolkit: createSlice</a></li>
<li><a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd" title="Chrome: redux-devtools">Chrome: redux-devtools</a></li>
<li><a href="https://redux-toolkit.js.org/api/createSlice#reducers" title="Redux-toolkit: reducers">Redux-toolkit: reducers</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

Create reducer for filtering notes

> scr/reducers/filterReducer.js

```js
const filterReducer = (state = 'ALL', action) => {
  switch (action.type) {
    case 'SET_FILTER':
      return action.payload
    default:
      return state
  }
}

export const filterChange = (filter) => {
  return {
    type: 'SET_FILTER',
    payload: filter,
  }
}

export default filterReducer
```

Create component for filtering notes with input radio by importants

> src/components/VisibilityFilter.js

```js
import { useDispatch } from 'react-redux'

import { filterChange } from '../reducers/filterReducer'

const VisibilityFilter = (/* props */) => {
  const dispatch = useDispatch()

  return (
    <div>
      all
      <input
        type='radio'
        name='filter'
        onChange={() => dispatch(filterChange('ALL'))}
      />
      important
      <input
        type='radio'
        name='filter'
        onChange={() => dispatch(filterChange('IMPORTANT'))}
      />
      nonimportant
      <input
        type='radio'
        name='filter'
        onChange={() => dispatch(filterChange('NONIMPORTANT'))}
      />
    </div>
  )
}

export default VisibilityFilter
```

Update index.js to use two reducers

> src/index.js

```js
import React from 'react'
import ReactDOM from 'react-dom/client'
import { createStore, combineReducers } from 'redux'
//...
import filterReducer from './reducers/filterReducer'

const reducer = combineReducers({
  notes: noteReducer,
  filter: filterReducer,
})

const store = createStore(reducer)
//...
```

Update the Notes component to rander filtered notes.

> src/Notes.js

```js
//...
const Notes = () => {
  const dispatch = useDispatch()

  const notes = useSelector(({ filter, notes }) => {
    if (filter === 'ALL') {
      return notes
    }
    return filter === 'IMPORTANT'
      ? notes.filter((note) => note.important)
      : notes.filter((note) => !note.important)
  })

  return (
    //...
  )
}
//...
```

Update the App component to rander the component with filter.

> src/Notes.js

```js
//...
import VisibilityFilter from './components/VisibilityFilter'

const App = () => {
  return (
    <div>
      <NewNote />
      <VisibilityFilter />
      <Notes />
    </div>
  )
}

export default App
```

#### Redux Toolkit

install the library: Redux Toolkit

> npm install @reduxjs/toolkit

Update index.js to use two reducers

> src/index.js

```js
import React from 'react'
import ReactDOM from 'react-dom/client'
import { Provider } from 'react-redux'
import { configureStore } from '@reduxjs/toolkit'
import App from './App'

import noteReducer from './reducers/noteReducer'
import filterReducer from './reducers/filterReducer'

const store = configureStore({
  reducer: {
    notes: noteReducer,
    filter: filterReducer,
  },
})

console.log(store.getState())

ReactDOM.createRoot(document.getElementById('root')).render(
  <Provider store={store}>
    <App />
  </Provider>
)
```

Update noteReducer.js to use createSlice from reduxjs toolkit

> src/reducers/noteReducer.js

```js
import { createSlice } from '@reduxjs/toolkit'

const initialState = [
  {
    content: 'reducer defines how redux store works',
    important: true,
    id: 1,
  },
  {
    content: 'state of store can contain any data',
    important: false,
    id: 2,
  },
]

const generateId = () => Number((Math.random() * 1000000).toFixed(0))

const noteSlice = createSlice({
  name: 'notes',
  initialState,
  reducers: {
    createNote(state, action) {
      const content = action.payload
      state.push({
        content,
        important: false,
        id: generateId(),
      })
    },
    toggleImportanceOf(state, action) {
      const id = action.payload
      const noteToChange = state.find((n) => n.id === id)
      const changedNote = {
        ...noteToChange,
        important: !noteToChange.important,
      }
      return state.map((note) => (note.id !== id ? note : changedNote))
    },
  },
})

export const { createNote, toggleImportanceOf } = noteSlice.actions
export default noteSlice.reducer
```

Update index.js to use two reducers

> src/reducers/noteReducer.test.js

```js
import noteReducer from './noteReducer'
import deepFreeze from 'deep-freeze'

describe('noteReducer', () => {
  test('returns new state with action notes/createNote', () => {
    //...
    const action = {
      type: 'notes/createNote',
      payload: 'the app state is in redux store',
    }
    //...
    expect(newState.map((s) => s.content)).toContainEqual(action.payload)
  })

  test('returns new state with action notes/toggleImportanceOf', () => {
    //...
    const action = {
      type: 'notes/toggleImportanceOf',
      payload: 2,
    }
    //...
  })
})
```

Use console log with JSON in reduser function in slicer to see the object in console

> console.log(JSON.parse(JSON.stringify(state)))

</details>

### Sub-part C: [Communicating with server in a redux application](https://fullstackopen.com/en/part6/communicating_with_server_in_a_redux_application)

<details>
<summary>Links:</summary>

<li><a href="https://github.com/facebook/create-react-app/issues/6880" title="ESlint How to disable the rule react-hooks/exhaustive-deps">ESlint How to disable the rule react-hooks/exhaustive-deps</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies" title="React: hooks dependencies in the react documentation">React: hooks dependencies in the react documentation</a></li>
<li><a href="https://github.com/reduxjs/redux-thunk" title="Redux Thunk library">Redux Thunk library</a></li>
<li><a href="https://redux-toolkit.js.org/api/createAsyncThunk" title="Redux Toolkit: createAsyncThunk">Redux Toolkit: createAsyncThunk</a></li>
<li><a href="https://redux-toolkit.js.org/rtk-query/overview" title="Redux Toolkit: RTK Query Overview">Redux Toolkit: RTK Query Overview</a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

#### json-server

Install json-server for the project

> npm install json-server --save-dev

Added json file-database in root of the project

> db.json

```js
{
  "notes": [
    {
      "content": "the app state is in redux store",
      "important": true,
      "id": 1
    },
    {
      "content": "state changes are made with actions",
      "important": false,
      "id": 2
    }
  ]
}
```

Added scripts to start the server in the file package.json

> package.json

```js
"scripts": {
  "server": "json-server -p3001 --watch db.json",
  // ...
}
```

#### front-end connect to backend using axios

Create services to use axios to fetch data from the backend

> src/services/notes.js

```js
import axios from 'axios'

const baseUrl = 'http://localhost:3001/notes'

const getAll = async () => {
  const response = await axios.get(baseUrl)
  return response.data
}

const createNew = async (content) => {
  const object = { content, important: false }
  const response = await axios.post(baseUrl, object)
  return response.data
}

export default { getAll, createNew }
```

Update reducer for working with the new services

> src/reducers/noteReducer.js

```js
import { createSlice } from '@reduxjs/toolkit'

const noteSlice = createSlice({
  name: 'notes',
  initialState: [],
  reducers: {
    createNote(state, action) {
      state.push(action.payload)
    },
    toggleImportanceOf(state, action) {
      //...
    },
    appendNote(state, action) {
      state.push(action.payload)
    },
    setNotes(state, action) {
      return action.payload
    },
  },
})

export const { createNote, toggleImportanceOf, appendNote, setNotes } =
  noteSlice.actions
export default noteSlice.reducer
```

Update App component to fetch data from server

> src/App.js

```js
import { useEffect } from 'react'
import { useDispatch } from 'react-redux'

import { setNotes } from './reducers/noteReducer'
import noteService from './services/notes'
import NewNote from './components/NewNote'
import Notes from './components/Notes'
import VisibilityFilter from './components/VisibilityFilter'

const App = () => {
  const dispatch = useDispatch()
  useEffect(() => {
    noteService.getAll().then((notes) => dispatch(setNotes(notes)))
  }, [])

  return (
    <div>
      <NewNote />
      <VisibilityFilter />
      <Notes />
    </div>
  )
}

export default App
```

Update NewNote component to fetch data from server

> src/components/NewNote.js

```js
import { useDispatch } from 'react-redux'

import { createNote } from '../reducers/noteReducer'
import noteService from '../services/notes'

const NewNote = () => {
  const dispatch = useDispatch()

  const addNote = async (event) => {
    event.preventDefault()
    const content = event.target.note.value
    event.target.note.value = ''

    const newNote = await noteService.createNew(content)
    dispatch(createNote(newNote))
  }

  return (
    <form onSubmit={addNote}>
      <input name='note' />
      <button type='submit'>add</button>
    </form>
  )
}

export default NewNote
```

#### Asynchronous actions and Redux thunk

Update note services with asynchronous action and hide implimantation in services

> src/reducers/noteReducer.js

```js
import { createSlice } from '@reduxjs/toolkit'

import noteService from '../services/notes'

const noteSlice = createSlice({
  name: 'notes',
  initialState: [],
  reducers: {
    toggleImportanceOf(state, action) {
      //..
    },
    appendNote(state, action) {
      state.push(action.payload)
    },
    setNotes(state, action) {
      return action.payload
    },
  },
})

export const { toggleImportanceOf, appendNote, setNotes } = noteSlice.actions

export const initializeNotes = () => {
  return async (dispatch) => {
    const notes = await noteService.getAll()
    dispatch(setNotes(notes))
  }
}

export const createNote = (content) => {
  return async (dispatch) => {
    const newNote = await noteService.createNew(content)
    dispatch(appendNote(newNote))
  }
}

export default noteSlice.reducer
```

Update App component to use new funcialnality with fetching data

> src/App.js

```js
import { useEffect } from 'react'
import { useDispatch } from 'react-redux'

import { initializeNotes } from './reducers/noteReducer'
import NewNote from './components/NewNote'
import Notes from './components/Notes'
import VisibilityFilter from './components/VisibilityFilter'

const App = () => {
  const dispatch = useDispatch()

  useEffect(() => {
    dispatch(initializeNotes())
  }, [dispatch])

  return (
    //...
  )
}

export default App
```

Update NewNote component to use new funcialnality with fetching data

> src/components/NewNote.js

```js
import { useDispatch } from 'react-redux'

import { createNote } from '../reducers/noteReducer'

const NewNote = () => {
  const dispatch = useDispatch()

  const addNote = async (event) => {
    event.preventDefault()
    const content = event.target.note.value
    event.target.note.value = ''
    dispatch(createNote(content))
  }

  return (
    //...
  )
}

export default NewNote
```

#### Store

Create a separate store file

> src/store.js

```js
import { configureStore } from '@reduxjs/toolkit'

import noteReducer from './reducers/noteReducer'
import filterReducer from './reducers/filterReducer'

const store = configureStore({
  reducer: {
    notes: noteReducer,
    filter: filterReducer,
  },
})

export default store
```

Update index to use the new sotre file

> src/index.js

```js
import React from 'react'
import ReactDOM from 'react-dom/client'
import { Provider } from 'react-redux'

import store from './store'
import App from './App'

ReactDOM.createRoot(document.getElementById('root')).render(
  <Provider store={store}>
    <App />
  </Provider>
)
```

</details>

### Sub-part D: [React Query, useReducer and the context](https://fullstackopen.com/en/part6/react_query_use_reducer_and_the_context)

<details>
<summary>Links:</summary>

<li><a href="https://tanstack.com/query/v3/" title="React Query library">React Query library</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/guides/queries" title="React Query library: Queries">React Query library: Queries</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/reference/useQuery" title="React Query library: useQuery">React Query library: useQuery</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/guides/query-keys" title="React Query library: Query Keys">React Query library: Query Keys</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/guides/mutations" title="React Query library: Mutations">React Query library: Mutations</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/reference/useMutation" title="React Query library: useMutation">React Query library: useMutation</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/guides/invalidations-from-mutations" title="React Query library: Invalidations from Mutations">React Query library: Invalidations from Mutations</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/guides/updates-from-mutation-responses" title="React Query library: Updates from Mutation Responses">React Query library: Updates from Mutation Responses</a></li>
<li><a href="https://tkdodo.eu/blog/react-query-render-optimizations" title="React Query Render Optimizations">React Query Render Optimizations</a></li>
<li><a href="https://tanstack.com/query/latest/docs/react/guides/does-this-replace-client-state" title="Does TanStack Query replace Redux, MobX or other global state managers?">Does TanStack Query replace Redux, MobX or other global state managers?</a></li>
<li><a href="https://react.dev/reference/react/useReducer" title="React: useReducer hook">React: useReducer hook</a></li>
<li><a href="https://react.dev/learn/passing-data-deeply-with-context" title="React: Context API provides">React: Context API provides</a></li>
<li><a href="https://react.dev/reference/react/createContext" title="React: hook createContext">React: hook createContext</a></li>
<li><a href="https://react.dev/reference/react/useContext" title="React: hook useContext">React: hook useContext</a></li>
<li><a href="https://legacy.reactjs.org/docs/hooks-custom.html" title="React: custom hook">React: custom hook</a></li>
<li><a href="https://facebookarchive.github.io/flux/" title="Flux architecture">Flux architecture</a></li>
<li><a href="https://redux-toolkit.js.org/" title="Redux Toolkit">Redux Toolkit</a></li>
<li><a href="https://recoiljs.org/" title="Recoil">Recoil</a></li>
<li><a href="https://mobx.js.org/README.html" title="MobX">MobX</a></li>
<li><a href="https://npmtrends.com/mobx-vs-recoil-vs-redux" title="Npm trends">Npm trends</a></li>
</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

#### React Query library

Install React Query library

> npm install react-query

Create index and add elements to use React Query library

> src/index.js

```js
import React from 'react'
import ReactDOM from 'react-dom/client'
import { QueryClient, QueryClientProvider } from 'react-query'

import App from './App'

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')).render(
  <QueryClientProvider client={queryClient}>
    <App />
  </QueryClientProvider>
)
```

Create file requests.js to work with server using axios

> src/requests.js

```js
import axios from 'axios'

const baseUrl = 'http://localhost:3001/notes'

export const getNotes = () => axios.get(baseUrl).then((res) => res.data)

export const createNote = (newNote) =>
  axios.post(baseUrl, newNote).then((res) => res.data)

export const updateNote = (updatedNote) =>
  axios.put(`${baseUrl}/${updatedNote.id}`, updatedNote).then((res) => res.data)
```

Create App with elements to use React Query library and requests

> src/App.js

```js
import { useQuery, useMutation, useQueryClient } from 'react-query'
import { getNotes, createNote, updateNote } from './requests'

const App = () => {
  const queryClient = useQueryClient()
  const newNoteMutation = useMutation(createNote, {
    onSuccess: (newNote) => {
      const notes = queryClient.getQueryData('notes')
      queryClient.setQueryData('notes', notes.concat(newNote))
    },
  })

  const addNote = async (event) => {
    event.preventDefault()
    const content = event.target.note.value
    event.target.note.value = ''
    newNoteMutation.mutate({ content, important: true })
  }

  const updateNoteMutation = useMutation(updateNote, {
    onSuccess: (updatedNote) => {
      const notes = queryClient.getQueryData('notes')
      queryClient.setQueryData(
        'notes',
        notes.map((n) => (n.id !== updatedNote.id ? n : updatedNote))
      )
    },
  })

  const toggleImportance = (note) => {
    updateNoteMutation.mutate({ ...note, important: !note.important })
  }

  const result = useQuery('notes', getNotes, {
    refetchOnWindowFocus: false,
  })

  console.log(result)

  if (result.isLoading) {
    return <div>loading data...</div>
  }

  const notes = result.data

  return (
    <div>
      <h2>Notes app</h2>
      <form onSubmit={addNote}>
        <input name='note' />
        <button type='submit'>add</button>
      </form>
      {notes.map((note) => (
        <li key={note.id} onClick={() => toggleImportance(note)}>
          {note.content}
          <strong> {note.important ? 'important' : ''}</strong>
        </li>
      ))}
    </div>
  )
}

export default App
```

#### React state management using the useReducer hook and context.

Create CounterContext for providing it in index.

> src/CounterContext.js

```js
import { createContext, useReducer, useContext } from 'react'

const counterReducer = (state, action) => {
  switch (action.type) {
    case 'INC':
      return state + 1
    case 'DEC':
      return state - 1
    case 'ZERO':
      return 0
    default:
      return state
  }
}

const CounterContext = createContext()

export const CounterContextProvider = (props) => {
  const [counter, counterDispatch] = useReducer(counterReducer, 0)

  return (
    <CounterContext.Provider value={[counter, counterDispatch]}>
      {props.children}
    </CounterContext.Provider>
  )
}

export const useCounterValue = () => {
  const counterAndDispatch = useContext(CounterContext)
  return counterAndDispatch[0]
}

export const useCounterDispatch = () => {
  const counterAndDispatch = useContext(CounterContext)
  return counterAndDispatch[1]
}

export default CounterContext
```

Update index to use CounterContext

> src/index.js

```js
import ReactDOM from 'react-dom/client'

import App from './App'
import { CounterContextProvider } from './CounterContext'

ReactDOM.createRoot(document.getElementById('root')).render(
  <CounterContextProvider>
    <App />
  </CounterContextProvider>
)
```

Create the component for buttons with using useCounterDispatch

> src/components/Button.js

```js
import { useCounterDispatch } from '../CounterContext'

const Button = ({ type, label }) => {
  const dispatch = useCounterDispatch()
  return <button onClick={() => dispatch({ type })}>{label}</button>
}

export default Button
```

Create the component for Display counter with using useCounterValue

> src/components/Display.js

```js
import { useCounterValue } from '../CounterContext'

const Display = () => {
  const counter = useCounterValue()
  return <div>{counter}</div>
}

export default Display
```

Create App with the components

> src/App.js

```js
import Display from './components/Display'
import Button from './components/Button'

const App = () => {
  return (
    <div>
      <Display />
      <div>
        <Button type='INC' label='+' />
        <Button type='DEC' label='-' />
        <Button type='ZERO' label='0' />
      </div>
    </div>
  )
}

export default App
```

</details>

### Sub-part E: [connect (the old part)](https://fullstackopen.com/en/part6/connect_the_old_part)

<details>
<summary>Links:</summary>

<li><a href="" title=""></a></li>
<li><a href="" title=""></a></li>
<li><a href="" title=""></a></li>
<li><a href="" title=""></a></li>
<li><a href="" title=""></a></li>
<li><a href="" title=""></a></li>

</details>

<details>
<summary>Ð¡ommands and fragments:</summary>

Text

>

```js

```

</details>

### Exercises:

#### 6.1-6.2: Unicafe

Description: Let's make a simplified version of the unicafe. Let's handle the state management with Redux.

Create an application according to the requirements described in [exercises 6.1-6.2](https://fullstackopen.com/en/part6/flux_architecture_and_redux#exercises-6-1-6-2),

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part6/unicafe)

#### 6.3-6.19: Anecdotes

Description: Let's make a new version of the anecdote voting application. Let's handle the state management with React-Redux. And then Implement filtering for the anecdotes that are displayed to the user. Finnaly install Redux Toolkit and use it with separating by fiels. After it install json-server and implement fetching from the server and creating new anecdote in the server. All anecdotes are stored in the backend. After connection to backend make refactoring code to use Redux Thunk library.

Create an application according to the requirements described in [exercises 6.3-6.8](https://fullstackopen.com/en/part6/flux_architecture_and_redux#exercises-6-3-6-8), [exercise 6.9](https://fullstackopen.com/en/part6/many_reducers#exercise-6-9), [exercises 6.10-6.13](https://fullstackopen.com/en/part6/many_reducers#exercises-6-10-6-13), [exercises 6.14-6.15](https://fullstackopen.com/en/part6/communicating_with_server_in_a_redux_application#exercises-6-14-6-15), [exercises 6.16-6.19](https://fullstackopen.com/en/part6/communicating_with_server_in_a_redux_application#exercises-6-16-6-19).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part6/anecdotes)

#### 6.20-6.24: Anecdotes use React Query library

Description: Now let's make a new version of the anecdote application that uses the React Query library. Implement the application's notification state management using the useReducer hook and context. The notification should tell the user when a new anecdote is created or an anecdote is voted on. Implement error handling for the insertion. In practice, it is sufficient to display a notification to the user in case of a failed POST request.

Create an application according to the requirements described in [exercises 6.20-6.22](https://fullstackopen.com/en/part6/react_query_use_reducer_and_the_context#exercises-6-20-6-22) and [exercises 6.3-6.24](https://fullstackopen.com/en/part6/react_query_use_reducer_and_the_context#exercises-6-23-6-24).

- [x] [Exercise is done](https://github.com/CaH4o/fullstackopen/tree/main/part6/anecdotes)
